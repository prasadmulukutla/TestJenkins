{"Description":"","Valid":true,"Id":2396192,"LastModificationDate":"2018-10-22T13:12:39.287","LastRunDate":null,"MapType":"IntegrationServicesAdvancedMap","Name":"mapScribeErrors","NetChange":true,"NetChangeFieldName":"LastRunTime","ProcessDefinitionDbId":"0f22b63f-6bbb-4f70-b3d9-1689de8877ef","SourceConnectionId":"8a80d157-3178-4e5b-919a-d348be2459ec","SourceConnectionName":"Scribe API","SourceConnectionAlias":"ScribeAPI","StartingBlockId":"d32d9efb-eab6-4b98-9619-076cff38e73e","SourceConnectionType":"Scribe Platform API","TargetConnections":[{"ConnectionAlias":"SFIntegration","ConnectionId":"cb5f85fb-ed5a-4c4f-bac6-c1b11164e141","ConnectionName":"SFIntegration","ConnectionType":"Microsoft SQL Server"},{"ConnectionAlias":"ScribeVariables","ConnectionId":"7fb8a75c-0088-4b50-a6a7-73889dc60e23","ConnectionName":"Scribe Variables","ConnectionType":"Scribe Labs - Variables"}],"Version":"2.2","Blocks":[{"id":"d32d9efb-eab6-4b98-9619-076cff38e73e","blockType":"Query","category":"Source","name":"Solution","description":"","label":"Query Solution","originalBlockLabel":"Query","nextBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","parentBlockId":"","prevBlockId":"","x":297,"y":25,"entity":"Solution","actionName":"Query","connectionId":"8a80d157-3178-4e5b-919a-d348be2459ec","filterItems":[],"relationships":[]},{"id":"ad0d0533-67ce-4412-9b44-cd609b726791","blockType":"ForEach","category":"Control","name":"ForEach","description":"","label":"For Each Result","originalBlockLabel":"For Each Result","nextBlockId":"","parentBlockId":"","prevBlockId":"d32d9efb-eab6-4b98-9619-076cff38e73e","firstChildBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c"},{"id":"36b91559-fc4e-4f03-8426-74ccf48ba55c","blockType":"IfElse","category":"Control","name":"IfElse2","description":"","label":"If First Record","originalBlockLabel":"If","nextBlockId":"3c06239e-153e-41d0-bf21-d13e1f2d9641","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"","firstChildBlockContainer1Id":"ae320822-ef0e-46a9-804d-60ef41c01cfa","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"RECNUM()","logicalOperator":0,"rightExpression":"1","id":"7a60b84e-0879-4d87-baec-0792b504dbda"}]},{"id":"ae320822-ef0e-46a9-804d-60ef41c01cfa","blockType":"Lookup","category":"Source","name":"LookupTableValueLookup2","description":"","label":"Lookup LookupTableValue","originalBlockLabel":"Lookup","nextBlockId":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"","containerIndex":0,"entity":"LookupTableValue","cacheResults":false,"actionName":"Query","connectionId":"8a80d157-3178-4e5b-919a-d348be2459ec","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"GUID(\"ec380b42-b1e6-4cd5-a3b0-de63ffaa28a4\")","comparisonOperator":0,"fieldName":"LookupTableId","logicalOperator":0,"id":"1510e3ee-cb6d-4ad2-8eef-da28be13ea12"},{"compareValue":"GUID(\"926eb418-e1be-47d2-b0cd-82ec7d313686\")","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"f463d7dc-b053-40a1-9467-a6a0fa4efab4"}],"fieldsToLookup":["Id","LookupTableId","Value1","Value2"]},{"id":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","blockType":"Upsert","category":"Target","name":"DateVariableUpsert","description":"","label":"Upsert DateVariable","originalBlockLabel":"Upsert","nextBlockId":"b19486ff-b970-4768-8702-c11014b2767b","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"ae320822-ef0e-46a9-804d-60ef41c01cfa","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"DateVariable","actionName":"Upsert","connectionId":"7fb8a75c-0088-4b50-a6a7-73889dc60e23","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"e26f3abe-af91-424f-b3fb-f6aaaa6ff8d1","targetDataType":"System.String","targetField":"name","targetFormula":"\"LastErrorRun\"","path":"DateVariable"},{"id":"bb98529c-d061-45fb-a8ab-9dde7a5ae71f","targetDataType":"System.DateTime","targetField":"val","targetFormula":"ScribeAPI_LookupTableValueLookup2.Value2","path":"DateVariable"}]},{"id":"b19486ff-b970-4768-8702-c11014b2767b","blockType":"UpdateInsert","category":"Source","name":"LookupTableValueUpdateInsert","description":"","label":"Update/Insert LookupTableValue","originalBlockLabel":"Update/Insert","nextBlockId":"","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","containerIndex":0,"entity":"LookupTableValue","actionName":"Update","connectionId":"8a80d157-3178-4e5b-919a-d348be2459ec","isOnNoMatchMessage":false,"isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","insertActionName":"Create","filterItems":[{"compareValue":"GUID(\"926eb418-e1be-47d2-b0cd-82ec7d313686\")","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"0f3a0aa7-ff10-4ea5-81a3-1f0bfea9d86e"},{"compareValue":"GUID(\"ec380b42-b1e6-4cd5-a3b0-de63ffaa28a4\")","comparisonOperator":0,"fieldName":"LookupTableId","logicalOperator":0,"id":"38da74f8-d255-4f55-bd8e-bf7905a510ae"}],"fieldMappings":[{"id":"e36b1505-8268-48f1-9140-802a25ca547a","targetDataType":"System.Guid","targetField":"LookupTableId","targetFormula":"GUID(\"ec380b42-b1e6-4cd5-a3b0-de63ffaa28a4\")","path":"LookupTableValue"},{"id":"44f99876-c377-4405-999c-1f84f4b3ec3f","targetDataType":"System.String","targetField":"Value1","targetFormula":"\"LastErrorRun\"","path":"LookupTableValue"},{"id":"3ce3ed0c-d0ad-45c9-9377-bef231e96b50","targetDataType":"System.String","targetField":"Value2","targetFormula":"GETUTCDATETIME()","path":"LookupTableValue"}]},{"id":"3c06239e-153e-41d0-bf21-d13e1f2d9641","blockType":"Lookup","category":"Target","name":"DateVariableLookup","description":"","label":"Lookup DateVariable","originalBlockLabel":"Lookup","nextBlockId":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","entity":"DateVariable","cacheResults":true,"actionName":"Query","connectionId":"7fb8a75c-0088-4b50-a6a7-73889dc60e23","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"\"LastErrorRun\"","comparisonOperator":0,"fieldName":"name","logicalOperator":0,"id":"f9ff5f2a-5cfe-4e85-8a84-cbd690a8e7b4"}],"fieldsToLookup":["val","name"]},{"id":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","blockType":"Fetch","category":"Source","name":"HistoryFetch","description":"","label":"Fetch History","originalBlockLabel":"Fetch","nextBlockId":"","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"3c06239e-153e-41d0-bf21-d13e1f2d9641","entity":"History","firstChildBlockId":"4bad3b0f-968b-4e2b-b711-6a021c19002a","actionName":"Query","connectionId":"8a80d157-3178-4e5b-919a-d348be2459ec","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Solution.OrganizationId","comparisonOperator":0,"fieldName":"OrganizationId","logicalOperator":0,"id":"832e42db-ae89-4f72-bab5-0bc36af2a008"},{"compareValue":"Solution.Id","comparisonOperator":0,"fieldName":"SolutionId","logicalOperator":0,"id":"22f498e2-5e19-49b8-a7f7-063f993f1e56"},{"compareValue":"ScribeVariables_DateVariableLookup.val","comparisonOperator":0,"fieldName":"LaterThanDate","logicalOperator":0,"id":"5811eab6-1eac-417a-8d24-06ddd9bddbf7"}],"relationships":[]},{"id":"4bad3b0f-968b-4e2b-b711-6a021c19002a","blockType":"IfElse","category":"Control","name":"IfElse","description":"","label":"If Execution Failed","originalBlockLabel":"If","nextBlockId":"","parentBlockId":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","prevBlockId":"","firstChildBlockContainer1Id":"209ef3b7-8438-4578-a7bd-645213ec149f","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":4,"leftExpression":"FIND(ScribeAPI_HistoryFetch.Result,\"Error\")","logicalOperator":0,"rightExpression":"0","id":"1c5ba00d-5299-4b14-a6b9-b53e3ea0a74a"}]},{"id":"209ef3b7-8438-4578-a7bd-645213ec149f","blockType":"Fetch","category":"Source","name":"ErrorFetch","description":"","label":"Fetch Error","originalBlockLabel":"Fetch","nextBlockId":"","parentBlockId":"4bad3b0f-968b-4e2b-b711-6a021c19002a","prevBlockId":"","containerIndex":0,"entity":"Error","firstChildBlockId":"1772eaa6-6ae8-4b88-bba6-ef77ef5800c2","actionName":"Query","connectionId":"8a80d157-3178-4e5b-919a-d348be2459ec","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Solution.OrganizationId","comparisonOperator":0,"fieldName":"OrganizationId","logicalOperator":0,"id":"700bdbd3-c29c-44e0-8607-1fe71cbb6785"},{"compareValue":"Solution.Id","comparisonOperator":0,"fieldName":"SolutionId","logicalOperator":0,"id":"1a066d3d-21ff-4291-8cd1-f8eef753f105"},{"compareValue":"ScribeAPI_HistoryFetch.Id","comparisonOperator":0,"fieldName":"HistoryId","logicalOperator":0,"id":"34e7fbbb-5307-4c21-8d43-e9641b4a9003"}],"relationships":[]},{"id":"1772eaa6-6ae8-4b88-bba6-ef77ef5800c2","blockType":"Insert","category":"Target","name":"ScribeErrorCreate","description":"","label":"Create ScribeError","originalBlockLabel":"Create","nextBlockId":"","parentBlockId":"209ef3b7-8438-4578-a7bd-645213ec149f","prevBlockId":"","bulkCountPerOperation":200,"useBulk":true,"entity":"ScribeError","actionName":"Create","connectionId":"cb5f85fb-ed5a-4c4f-bac6-c1b11164e141","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"8148b575-8138-4c5f-aef0-01041430f4c8","targetDataType":"System.String","targetField":"AdditionalErrorDetails","targetFormula":"ScribeAPI_ErrorFetch.AdditionalErrorDetails","path":"ScribeError"},{"id":"e5ae355e-6a20-465f-8fef-856d4d83fe4c","targetDataType":"System.Boolean","targetField":"CanReprocess","targetFormula":"ScribeAPI_ErrorFetch.CanReprocess","path":"ScribeError"},{"id":"2df9d54c-a41c-4a35-9819-8ee4713550d9","targetDataType":"System.String","targetField":"ErrorDetail","targetFormula":"ScribeAPI_ErrorFetch.ErrorDetail","path":"ScribeError"},{"id":"886f8dae-ecff-451c-a6ea-013e33364185","targetDataType":"System.String","targetField":"ErrorMessage","targetFormula":"ScribeAPI_ErrorFetch.ErrorMessage","path":"ScribeError"},{"id":"39b43551-0fdd-4b89-89d6-b43cbb2f56c5","targetDataType":"System.String","targetField":"ErrorId","targetFormula":"ScribeAPI_ErrorFetch.Id","path":"ScribeError"},{"id":"240310b9-47e5-4c67-bb7f-41a115352651","targetDataType":"System.String","targetField":"ExecutionDetails","targetFormula":"ScribeAPI_HistoryFetch.Details","path":"ScribeError"},{"id":"aa187a24-2282-4a9b-834d-4599277492d8","targetDataType":"System.Int32","targetField":"ExecutionDuration","targetFormula":"ScribeAPI_HistoryFetch.Duration","path":"ScribeError"},{"id":"73d93225-a57e-4a83-8326-1e39f866e627","targetDataType":"System.DateTime","targetField":"ExecutionStart","targetFormula":"ScribeAPI_HistoryFetch.Start","path":"ScribeError"},{"id":"04f2e1ab-82b6-4bd2-99ff-83183e0a576c","targetDataType":"System.DateTime","targetField":"ExecutionStop","targetFormula":"ScribeAPI_HistoryFetch.Stop","path":"ScribeError"},{"id":"1115d2aa-2813-4732-9fe5-d519fb6ec85a","targetDataType":"System.String","targetField":"FailedRecordId","targetFormula":"ScribeAPI_ErrorFetch.FailedRecordId","path":"ScribeError"},{"id":"9be79c82-1fff-4759-b93c-be940e74e89b","targetDataType":"System.String","targetField":"HistoryId","targetFormula":"ScribeAPI_HistoryFetch.Id","path":"ScribeError"},{"id":"5be395c8-eb0c-4577-a0a1-44037dc36034","targetDataType":"System.Boolean","targetField":"IsActionTaken","targetFormula":"false","path":"ScribeError"},{"id":"a6881730-2775-4979-a1f4-9e390850195d","targetDataType":"System.Boolean","targetField":"IsMetadataProcessed","targetFormula":"false","path":"ScribeError"},{"id":"41ce5233-f616-4145-a509-07e0b9a856e4","targetDataType":"System.Boolean","targetField":"IsReprocessJob","targetFormula":"ScribeAPI_HistoryFetch.IsReprocessJob","path":"ScribeError"},{"id":"b96f29c0-126b-49c1-8e71-a60c949677a6","targetDataType":"System.String","targetField":"MapName","targetFormula":"ScribeAPI_ErrorFetch.MapName","path":"ScribeError"},{"id":"ea8854e8-ac83-4610-b62e-cd7b66c4b412","targetDataType":"System.Boolean","targetField":"Marked","targetFormula":"ScribeAPI_ErrorFetch.Marked","path":"ScribeError"},{"id":"18055b5d-a636-44b6-b59c-18fc9e132db1","targetDataType":"System.Int32","targetField":"RecordsFailed","targetFormula":"ScribeAPI_HistoryFetch.RecordsFailed","path":"ScribeError"},{"id":"20bf47f7-3d8f-4a14-9be9-fb001e67a2be","targetDataType":"System.Int32","targetField":"RecordsProcessed","targetFormula":"ScribeAPI_HistoryFetch.RecordsProcessed","path":"ScribeError"},{"id":"dde3ccb1-17f4-4765-95e8-a14d7082842a","targetDataType":"System.Int32","targetField":"ReprocessRecordsRemaining","targetFormula":"ScribeAPI_HistoryFetch.ReprocessRecordsRemaining","path":"ScribeError"},{"id":"c8487ad6-0795-4290-8310-0f828a10bdcf","targetDataType":"System.String","targetField":"Result","targetFormula":"ScribeAPI_HistoryFetch.Result","path":"ScribeError"},{"id":"1aceb84c-0827-403a-a486-1253f0638325","targetDataType":"System.String","targetField":"SolutionId","targetFormula":"Solution.Id","path":"ScribeError"},{"id":"6cd1302b-106d-4a59-a19b-b766934762d9","targetDataType":"System.DateTime","targetField":"SolutionLastRun","targetFormula":"Solution.LastRunTime","path":"ScribeError"},{"id":"6132fbfd-8d7f-4965-97b9-20f9094daf93","targetDataType":"System.String","targetField":"SolutionName","targetFormula":"Solution.Name","path":"ScribeError"},{"id":"8367d0f1-9421-48b2-8069-474e4087ffae","targetDataType":"System.Boolean","targetField":"SourceDataLocal","targetFormula":"ScribeAPI_HistoryFetch.SourceDataLocal","path":"ScribeError"},{"id":"62ed64fb-7f5c-4f96-8f87-80c9f10a5fbb","targetDataType":"System.String","targetField":"SourceEntity","targetFormula":"ScribeAPI_ErrorFetch.SourceEntity","path":"ScribeError"}]}],"Revision":1,"RevisionDate":"2018-04-07T01:02:37.98","RevisionComment":"Initial Revision"}