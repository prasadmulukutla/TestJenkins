{"Description":"","Valid":true,"Id":2321189,"LastModificationDate":"2018-09-26T05:00:00.403","LastRunDate":null,"MapType":"IntegrationServicesAdvancedMap","Name":"mapScribeErrors","NetChange":true,"NetChangeFieldName":"LastRunTime","ProcessDefinitionDbId":"388b2562-d109-4488-b23f-058dc64bc968","SourceConnectionId":"d2959379-8043-4ecd-9756-5b4bff647360","SourceConnectionName":"Scribe API","SourceConnectionAlias":"ScribeAPI","StartingBlockId":"d32d9efb-eab6-4b98-9619-076cff38e73e","SourceConnectionType":"Scribe Platform API","TargetConnections":[{"ConnectionAlias":"SFIntegration","ConnectionId":"bd24590d-4de3-4dc5-b564-12719dbde5e1","ConnectionName":"SFIntegration","ConnectionType":"Microsoft SQL Server"},{"ConnectionAlias":"ScribeLookup","ConnectionId":"01ac5d37-a5f4-4819-b357-bec035973c27","ConnectionName":"Scribe Lookup","ConnectionType":"Scribe Labs - Lookup Tables"},{"ConnectionAlias":"ScribeVariables","ConnectionId":"12d4d6bd-109d-4e10-81a4-f2403dd6e3e7","ConnectionName":"Scribe Variables","ConnectionType":"Scribe Labs - Variables"}],"Version":"2.2","Blocks":[{"id":"d32d9efb-eab6-4b98-9619-076cff38e73e","blockType":"Query","category":"Source","name":"Solution","description":"","label":"Query Solution","originalBlockLabel":"Query","nextBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","parentBlockId":"","prevBlockId":"","x":297,"y":25,"entity":"Solution","actionName":"Query","connectionId":"d2959379-8043-4ecd-9756-5b4bff647360","filterItems":[],"relationships":[]},{"id":"ad0d0533-67ce-4412-9b44-cd609b726791","blockType":"ForEach","category":"Control","name":"ForEach","description":"","label":"For Each Result","originalBlockLabel":"For Each Result","nextBlockId":"","parentBlockId":"","prevBlockId":"d32d9efb-eab6-4b98-9619-076cff38e73e","firstChildBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c"},{"id":"36b91559-fc4e-4f03-8426-74ccf48ba55c","blockType":"IfElse","category":"Control","name":"IfElse2","description":"","label":"If First Record","originalBlockLabel":"If","nextBlockId":"3c06239e-153e-41d0-bf21-d13e1f2d9641","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"","firstChildBlockContainer1Id":"1d5c4b25-82da-45e8-81e9-18b02731e611","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"RECNUM()","logicalOperator":0,"rightExpression":"1","id":"b88d0ad3-1085-4f92-80fa-c475771d000f"}]},{"id":"1d5c4b25-82da-45e8-81e9-18b02731e611","blockType":"Lookup","category":"Target","name":"LookupTableValueLookup","description":"","label":"Lookup LookupTableValue","originalBlockLabel":"Lookup","nextBlockId":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"","containerIndex":0,"entity":"LookupTableValue","cacheResults":true,"actionName":"Query","connectionId":"01ac5d37-a5f4-4819-b357-bec035973c27","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"GUID(\"fb37b26f-2622-4836-b971-25e81a2a4541\")","comparisonOperator":0,"fieldName":"tableid","logicalOperator":0,"id":"bd74c12b-52a5-415c-a521-3953847e4b12"},{"compareValue":"GUID(\"415faaa4-bae6-4292-9a92-6222c932e26d\")","comparisonOperator":0,"fieldName":"id","logicalOperator":0,"id":"83c04b7b-a1ee-4592-b677-7d231b195f20"}],"fieldsToLookup":["value2","value1","id","tableid","tablename"]},{"id":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","blockType":"Upsert","category":"Target","name":"DateVariableUpsert","description":"","label":"Upsert DateVariable","originalBlockLabel":"Upsert","nextBlockId":"03425498-31e5-46a7-8e38-36becd614bc0","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"1d5c4b25-82da-45e8-81e9-18b02731e611","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"DateVariable","actionName":"Upsert","connectionId":"12d4d6bd-109d-4e10-81a4-f2403dd6e3e7","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"c99496ab-b04f-46d4-9933-5e2dcc5daa35","targetDataType":"System.String","targetField":"name","targetFormula":"\"LastErrorRun\"","path":"DateVariable"},{"id":"1a62af4e-456a-496c-928c-0321ce8f5e0b","targetDataType":"System.DateTime","targetField":"val","targetFormula":"ScribeLookup_LookupTableValueLookup.value2","path":"DateVariable"}]},{"id":"03425498-31e5-46a7-8e38-36becd614bc0","blockType":"Upsert","category":"Target","name":"LookupTableValueUpsert","description":"","label":"Upsert LookupTableValue","originalBlockLabel":"Upsert","nextBlockId":"","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"LookupTableValue","actionName":"Upsert","connectionId":"01ac5d37-a5f4-4819-b357-bec035973c27","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"39a4f053-cf88-4e62-8f98-9bedde7750d0","targetDataType":"System.Guid","targetField":"id","targetFormula":"GUID(\"415faaa4-bae6-4292-9a92-6222c932e26d\")","path":"LookupTableValue"},{"id":"f68be7d4-5117-444b-a66f-9f49ce4a7c55","targetDataType":"System.Guid","targetField":"tableid","targetFormula":"GUID(\"fb37b26f-2622-4836-b971-25e81a2a4541\")","path":"LookupTableValue"},{"id":"82d74202-0799-47c7-94cf-e2c19e875d6b","targetDataType":"System.String","targetField":"value2","targetFormula":"GETUTCDATETIME()","path":"LookupTableValue"},{"id":"6d05d848-cba5-4fbc-904f-37eeeaba4d1d","targetDataType":"System.String","targetField":"value1","targetFormula":"\"LastErrorRun\"","path":"LookupTableValue"}]},{"id":"3c06239e-153e-41d0-bf21-d13e1f2d9641","blockType":"Lookup","category":"Target","name":"DateVariableLookup","description":"","label":"Lookup DateVariable","originalBlockLabel":"Lookup","nextBlockId":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","entity":"DateVariable","cacheResults":true,"actionName":"Query","connectionId":"12d4d6bd-109d-4e10-81a4-f2403dd6e3e7","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"\"LastErrorRun\"","comparisonOperator":0,"fieldName":"name","logicalOperator":0,"id":"4729f353-551b-432b-9d3e-1b6b28d33ab8"}],"fieldsToLookup":["val","name"]},{"id":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","blockType":"Fetch","category":"Source","name":"HistoryFetch","description":"","label":"Fetch History","originalBlockLabel":"Fetch","nextBlockId":"","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"3c06239e-153e-41d0-bf21-d13e1f2d9641","entity":"History","firstChildBlockId":"4bad3b0f-968b-4e2b-b711-6a021c19002a","actionName":"Query","connectionId":"d2959379-8043-4ecd-9756-5b4bff647360","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Solution.OrganizationId","comparisonOperator":0,"fieldName":"OrganizationId","logicalOperator":0,"id":"f7cd1833-95c5-4943-ad4f-b2a9f2c37ead"},{"compareValue":"Solution.Id","comparisonOperator":0,"fieldName":"SolutionId","logicalOperator":0,"id":"62f59373-9d62-48bf-b913-a2d0e0ad4c3e"},{"compareValue":"ScribeVariables_DateVariableLookup.val","comparisonOperator":0,"fieldName":"LaterThanDate","logicalOperator":0,"id":"aab50ff1-1e25-4720-b5f8-24c777b34453"}],"relationships":[]},{"id":"4bad3b0f-968b-4e2b-b711-6a021c19002a","blockType":"IfElse","category":"Control","name":"IfElse","description":"","label":"If Execution Failed","originalBlockLabel":"If","nextBlockId":"","parentBlockId":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","prevBlockId":"","firstChildBlockContainer1Id":"209ef3b7-8438-4578-a7bd-645213ec149f","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":4,"leftExpression":"FIND(ScribeAPI_HistoryFetch.Result,\"Error\")","logicalOperator":0,"rightExpression":"0","id":"10379c96-ae70-42cc-8f6d-ed4fcf358c84"}]},{"id":"209ef3b7-8438-4578-a7bd-645213ec149f","blockType":"Fetch","category":"Source","name":"ErrorFetch","description":"","label":"Fetch Error","originalBlockLabel":"Fetch","nextBlockId":"","parentBlockId":"4bad3b0f-968b-4e2b-b711-6a021c19002a","prevBlockId":"","containerIndex":0,"entity":"Error","firstChildBlockId":"1772eaa6-6ae8-4b88-bba6-ef77ef5800c2","actionName":"Query","connectionId":"d2959379-8043-4ecd-9756-5b4bff647360","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Solution.OrganizationId","comparisonOperator":0,"fieldName":"OrganizationId","logicalOperator":0,"id":"9bc244b3-9a24-4475-b2c7-f0a58fd7a5a8"},{"compareValue":"Solution.Id","comparisonOperator":0,"fieldName":"SolutionId","logicalOperator":0,"id":"95f51a52-e372-460c-8ae9-8e3067507969"},{"compareValue":"ScribeAPI_HistoryFetch.Id","comparisonOperator":0,"fieldName":"HistoryId","logicalOperator":0,"id":"83409392-9b0d-4598-8fc6-17614d21a098"}],"relationships":[]},{"id":"1772eaa6-6ae8-4b88-bba6-ef77ef5800c2","blockType":"Insert","category":"Target","name":"ScribeErrorCreate","description":"","label":"Create ScribeError","originalBlockLabel":"Create","nextBlockId":"","parentBlockId":"209ef3b7-8438-4578-a7bd-645213ec149f","prevBlockId":"","bulkCountPerOperation":200,"useBulk":true,"entity":"ScribeError","actionName":"Create","connectionId":"bd24590d-4de3-4dc5-b564-12719dbde5e1","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"13c67b74-2398-4f5e-94c0-c708798b9110","targetDataType":"System.String","targetField":"AdditionalErrorDetails","targetFormula":"ScribeAPI_ErrorFetch.AdditionalErrorDetails","path":"ScribeError"},{"id":"056ca1d1-6752-4d86-a2e8-be407d4c53ab","targetDataType":"System.Boolean","targetField":"CanReprocess","targetFormula":"ScribeAPI_ErrorFetch.CanReprocess","path":"ScribeError"},{"id":"d2074a15-16a2-4e7b-bb75-99c3410963c9","targetDataType":"System.String","targetField":"ErrorDetail","targetFormula":"ScribeAPI_ErrorFetch.ErrorDetail","path":"ScribeError"},{"id":"2f380a53-019b-481e-bf0b-15e37a1c7c47","targetDataType":"System.String","targetField":"ErrorMessage","targetFormula":"ScribeAPI_ErrorFetch.ErrorMessage","path":"ScribeError"},{"id":"2229cc70-d6bb-4b2c-b201-41d08d2e36d1","targetDataType":"System.String","targetField":"ErrorId","targetFormula":"ScribeAPI_ErrorFetch.Id","path":"ScribeError"},{"id":"1139b286-be40-4fb9-ba50-fe12136234b3","targetDataType":"System.String","targetField":"ExecutionDetails","targetFormula":"ScribeAPI_HistoryFetch.Details","path":"ScribeError"},{"id":"16a99f5f-ddba-423f-a54c-75321db4a0bc","targetDataType":"System.Int32","targetField":"ExecutionDuration","targetFormula":"ScribeAPI_HistoryFetch.Duration","path":"ScribeError"},{"id":"c3a1cdd5-6452-4761-b8a0-a7a4ad954d64","targetDataType":"System.DateTime","targetField":"ExecutionStart","targetFormula":"ScribeAPI_HistoryFetch.Start","path":"ScribeError"},{"id":"f1c69106-dcaf-4cf4-a199-f5284f9a53e9","targetDataType":"System.DateTime","targetField":"ExecutionStop","targetFormula":"ScribeAPI_HistoryFetch.Stop","path":"ScribeError"},{"id":"eb4a2530-4ca6-443c-9aa1-0442a8ed3916","targetDataType":"System.String","targetField":"FailedRecordId","targetFormula":"ScribeAPI_ErrorFetch.FailedRecordId","path":"ScribeError"},{"id":"1d5f278a-36de-43dc-81bf-6170ec17d0d0","targetDataType":"System.String","targetField":"HistoryId","targetFormula":"ScribeAPI_HistoryFetch.Id","path":"ScribeError"},{"id":"0cea5d8d-0ab9-47f3-acef-e2c195f3eb98","targetDataType":"System.Boolean","targetField":"IsActionTaken","targetFormula":"false","path":"ScribeError"},{"id":"20540450-ecef-4a7f-8820-a67b19e2e365","targetDataType":"System.Boolean","targetField":"IsMetadataProcessed","targetFormula":"false","path":"ScribeError"},{"id":"99b23fbd-e878-4228-a6af-4ea9c9b6862d","targetDataType":"System.Boolean","targetField":"IsReprocessJob","targetFormula":"ScribeAPI_HistoryFetch.IsReprocessJob","path":"ScribeError"},{"id":"b69f6700-2171-4b2d-a552-2f7b084b164f","targetDataType":"System.String","targetField":"MapName","targetFormula":"ScribeAPI_ErrorFetch.MapName","path":"ScribeError"},{"id":"00087d78-13d8-42ee-9b5f-ea6239ea7589","targetDataType":"System.Boolean","targetField":"Marked","targetFormula":"ScribeAPI_ErrorFetch.Marked","path":"ScribeError"},{"id":"22b24014-9dfe-4785-8802-6ba818aebc51","targetDataType":"System.Int32","targetField":"RecordsFailed","targetFormula":"ScribeAPI_HistoryFetch.RecordsFailed","path":"ScribeError"},{"id":"8f91b95e-cebc-49a8-875a-9d0662bafa2c","targetDataType":"System.Int32","targetField":"RecordsProcessed","targetFormula":"ScribeAPI_HistoryFetch.RecordsProcessed","path":"ScribeError"},{"id":"cfcd13f5-ce2b-4315-a76b-6801a9b36976","targetDataType":"System.Int32","targetField":"ReprocessRecordsRemaining","targetFormula":"ScribeAPI_HistoryFetch.ReprocessRecordsRemaining","path":"ScribeError"},{"id":"d41ce025-f7d1-454f-b5b4-5ab7cd273945","targetDataType":"System.String","targetField":"Result","targetFormula":"ScribeAPI_HistoryFetch.Result","path":"ScribeError"},{"id":"76f9010f-0b3a-401f-809a-2ac56de377a8","targetDataType":"System.String","targetField":"SolutionId","targetFormula":"Solution.Id","path":"ScribeError"},{"id":"bf175f9b-7421-4f76-b455-626a750e1541","targetDataType":"System.DateTime","targetField":"SolutionLastRun","targetFormula":"Solution.LastRunTime","path":"ScribeError"},{"id":"42305011-09e6-4479-a42b-0c4b6114b31f","targetDataType":"System.String","targetField":"SolutionName","targetFormula":"Solution.Name","path":"ScribeError"},{"id":"9999a5a0-6ae5-4b5f-94a1-2663c58de56a","targetDataType":"System.Boolean","targetField":"SourceDataLocal","targetFormula":"ScribeAPI_HistoryFetch.SourceDataLocal","path":"ScribeError"},{"id":"3e0d0fad-de8f-4ae0-89cc-07a0d315b550","targetDataType":"System.String","targetField":"SourceEntity","targetFormula":"ScribeAPI_ErrorFetch.SourceEntity","path":"ScribeError"}]}],"Revision":1,"RevisionDate":"2018-04-07T01:02:37.98","RevisionComment":"Initial Revision"}