{"Description":"","Valid":true,"Id":2321760,"LastModificationDate":"2018-09-26T05:00:00.403","LastRunDate":null,"MapType":"IntegrationServicesAdvancedMap","Name":"mapScribeErrors","NetChange":true,"NetChangeFieldName":"LastRunTime","ProcessDefinitionDbId":"388b2562-d109-4488-b23f-058dc64bc968","SourceConnectionId":"d2959379-8043-4ecd-9756-5b4bff647360","SourceConnectionName":"Scribe API","SourceConnectionAlias":"ScribeAPI","StartingBlockId":"d32d9efb-eab6-4b98-9619-076cff38e73e","SourceConnectionType":"Scribe Platform API","TargetConnections":[{"ConnectionAlias":"SFIntegration","ConnectionId":"bd24590d-4de3-4dc5-b564-12719dbde5e1","ConnectionName":"SFIntegration","ConnectionType":"Microsoft SQL Server"},{"ConnectionAlias":"ScribeLookup","ConnectionId":"01ac5d37-a5f4-4819-b357-bec035973c27","ConnectionName":"Scribe Lookup","ConnectionType":"Scribe Labs - Lookup Tables"},{"ConnectionAlias":"ScribeVariables","ConnectionId":"12d4d6bd-109d-4e10-81a4-f2403dd6e3e7","ConnectionName":"Scribe Variables","ConnectionType":"Scribe Labs - Variables"}],"Version":"2.2","Blocks":[{"id":"d32d9efb-eab6-4b98-9619-076cff38e73e","blockType":"Query","category":"Source","name":"Solution","description":"","label":"Query Solution","originalBlockLabel":"Query","nextBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","parentBlockId":"","prevBlockId":"","x":297,"y":25,"entity":"Solution","actionName":"Query","connectionId":"d2959379-8043-4ecd-9756-5b4bff647360","filterItems":[],"relationships":[]},{"id":"ad0d0533-67ce-4412-9b44-cd609b726791","blockType":"ForEach","category":"Control","name":"ForEach","description":"","label":"For Each Result","originalBlockLabel":"For Each Result","nextBlockId":"","parentBlockId":"","prevBlockId":"d32d9efb-eab6-4b98-9619-076cff38e73e","firstChildBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c"},{"id":"36b91559-fc4e-4f03-8426-74ccf48ba55c","blockType":"IfElse","category":"Control","name":"IfElse2","description":"","label":"If First Record","originalBlockLabel":"If","nextBlockId":"3c06239e-153e-41d0-bf21-d13e1f2d9641","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"","firstChildBlockContainer1Id":"1d5c4b25-82da-45e8-81e9-18b02731e611","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"RECNUM()","logicalOperator":0,"rightExpression":"1","id":"2ada0c4a-fc9e-41e4-ab84-a3ea93b9ed1d"}]},{"id":"1d5c4b25-82da-45e8-81e9-18b02731e611","blockType":"Lookup","category":"Target","name":"LookupTableValueLookup","description":"","label":"Lookup LookupTableValue","originalBlockLabel":"Lookup","nextBlockId":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"","containerIndex":0,"entity":"LookupTableValue","cacheResults":true,"actionName":"Query","connectionId":"01ac5d37-a5f4-4819-b357-bec035973c27","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"GUID(\"fb37b26f-2622-4836-b971-25e81a2a4541\")","comparisonOperator":0,"fieldName":"tableid","logicalOperator":0,"id":"05a72ca4-ebd4-4cff-8786-79a65b3d784c"},{"compareValue":"GUID(\"415faaa4-bae6-4292-9a92-6222c932e26d\")","comparisonOperator":0,"fieldName":"id","logicalOperator":0,"id":"c06bf81e-92a1-4aea-a73e-4716842821fe"}],"fieldsToLookup":["value2","value1","id","tableid","tablename"]},{"id":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","blockType":"Upsert","category":"Target","name":"DateVariableUpsert","description":"","label":"Upsert DateVariable","originalBlockLabel":"Upsert","nextBlockId":"03425498-31e5-46a7-8e38-36becd614bc0","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"1d5c4b25-82da-45e8-81e9-18b02731e611","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"DateVariable","actionName":"Upsert","connectionId":"12d4d6bd-109d-4e10-81a4-f2403dd6e3e7","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"dc565818-6542-417a-a2c2-07a3a1a1ef5c","targetDataType":"System.String","targetField":"name","targetFormula":"\"LastErrorRun\"","path":"DateVariable"},{"id":"6d613000-4714-44e6-9f4c-c491c7c44201","targetDataType":"System.DateTime","targetField":"val","targetFormula":"ScribeLookup_LookupTableValueLookup.value2","path":"DateVariable"}]},{"id":"03425498-31e5-46a7-8e38-36becd614bc0","blockType":"Upsert","category":"Target","name":"LookupTableValueUpsert","description":"","label":"Upsert LookupTableValue","originalBlockLabel":"Upsert","nextBlockId":"","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"LookupTableValue","actionName":"Upsert","connectionId":"01ac5d37-a5f4-4819-b357-bec035973c27","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"ee94bd00-5d20-4735-8391-d7f57f59b744","targetDataType":"System.Guid","targetField":"id","targetFormula":"GUID(\"415faaa4-bae6-4292-9a92-6222c932e26d\")","path":"LookupTableValue"},{"id":"8bf8dd3b-989f-433f-8b02-e389a8ca8a56","targetDataType":"System.Guid","targetField":"tableid","targetFormula":"GUID(\"fb37b26f-2622-4836-b971-25e81a2a4541\")","path":"LookupTableValue"},{"id":"c31af528-a3b7-4b23-a906-2dd07e3c5e90","targetDataType":"System.String","targetField":"value2","targetFormula":"GETUTCDATETIME()","path":"LookupTableValue"},{"id":"05e49a2b-3551-45e9-ae2f-f4068867a82b","targetDataType":"System.String","targetField":"value1","targetFormula":"\"LastErrorRun\"","path":"LookupTableValue"}]},{"id":"3c06239e-153e-41d0-bf21-d13e1f2d9641","blockType":"Lookup","category":"Target","name":"DateVariableLookup","description":"","label":"Lookup DateVariable","originalBlockLabel":"Lookup","nextBlockId":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","entity":"DateVariable","cacheResults":true,"actionName":"Query","connectionId":"12d4d6bd-109d-4e10-81a4-f2403dd6e3e7","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"\"LastErrorRun\"","comparisonOperator":0,"fieldName":"name","logicalOperator":0,"id":"76823176-73da-4363-a10f-bab0302a3354"}],"fieldsToLookup":["val","name"]},{"id":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","blockType":"Fetch","category":"Source","name":"HistoryFetch","description":"","label":"Fetch History","originalBlockLabel":"Fetch","nextBlockId":"","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"3c06239e-153e-41d0-bf21-d13e1f2d9641","entity":"History","firstChildBlockId":"4bad3b0f-968b-4e2b-b711-6a021c19002a","actionName":"Query","connectionId":"d2959379-8043-4ecd-9756-5b4bff647360","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Solution.OrganizationId","comparisonOperator":0,"fieldName":"OrganizationId","logicalOperator":0,"id":"4cbac18f-90b9-4ae5-8bd6-5fc2ee2ac556"},{"compareValue":"Solution.Id","comparisonOperator":0,"fieldName":"SolutionId","logicalOperator":0,"id":"0a1074e9-5713-4893-9e66-b9e2729a41b8"},{"compareValue":"ScribeVariables_DateVariableLookup.val","comparisonOperator":0,"fieldName":"LaterThanDate","logicalOperator":0,"id":"9136c446-9b7d-4793-9353-6cf83092f64a"}],"relationships":[]},{"id":"4bad3b0f-968b-4e2b-b711-6a021c19002a","blockType":"IfElse","category":"Control","name":"IfElse","description":"","label":"If Execution Failed","originalBlockLabel":"If","nextBlockId":"","parentBlockId":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","prevBlockId":"","firstChildBlockContainer1Id":"209ef3b7-8438-4578-a7bd-645213ec149f","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":4,"leftExpression":"FIND(ScribeAPI_HistoryFetch.Result,\"Error\")","logicalOperator":0,"rightExpression":"0","id":"61f3a24e-52c0-4d36-a354-4d796ba1e5de"}]},{"id":"209ef3b7-8438-4578-a7bd-645213ec149f","blockType":"Fetch","category":"Source","name":"ErrorFetch","description":"","label":"Fetch Error","originalBlockLabel":"Fetch","nextBlockId":"","parentBlockId":"4bad3b0f-968b-4e2b-b711-6a021c19002a","prevBlockId":"","containerIndex":0,"entity":"Error","firstChildBlockId":"1772eaa6-6ae8-4b88-bba6-ef77ef5800c2","actionName":"Query","connectionId":"d2959379-8043-4ecd-9756-5b4bff647360","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Solution.OrganizationId","comparisonOperator":0,"fieldName":"OrganizationId","logicalOperator":0,"id":"0a294eec-5da7-4dc7-bd2e-12c85617c6a6"},{"compareValue":"Solution.Id","comparisonOperator":0,"fieldName":"SolutionId","logicalOperator":0,"id":"a3e0c69f-a931-4e23-a76e-ac67954781f7"},{"compareValue":"ScribeAPI_HistoryFetch.Id","comparisonOperator":0,"fieldName":"HistoryId","logicalOperator":0,"id":"42894f66-8f47-4259-a066-865aaf77723b"}],"relationships":[]},{"id":"1772eaa6-6ae8-4b88-bba6-ef77ef5800c2","blockType":"Insert","category":"Target","name":"ScribeErrorCreate","description":"","label":"Create ScribeError","originalBlockLabel":"Create","nextBlockId":"","parentBlockId":"209ef3b7-8438-4578-a7bd-645213ec149f","prevBlockId":"","bulkCountPerOperation":200,"useBulk":true,"entity":"ScribeError","actionName":"Create","connectionId":"bd24590d-4de3-4dc5-b564-12719dbde5e1","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"1b6c98a7-522a-4a04-804f-143b686833cb","targetDataType":"System.String","targetField":"AdditionalErrorDetails","targetFormula":"ScribeAPI_ErrorFetch.AdditionalErrorDetails","path":"ScribeError"},{"id":"b0c9f5ce-2279-4ba1-ae40-d0523aa8a296","targetDataType":"System.Boolean","targetField":"CanReprocess","targetFormula":"ScribeAPI_ErrorFetch.CanReprocess","path":"ScribeError"},{"id":"0b3d0941-6fe9-4183-98ff-4ed08386508d","targetDataType":"System.String","targetField":"ErrorDetail","targetFormula":"ScribeAPI_ErrorFetch.ErrorDetail","path":"ScribeError"},{"id":"ed4084ab-12ba-47c6-b969-54386716774a","targetDataType":"System.String","targetField":"ErrorMessage","targetFormula":"ScribeAPI_ErrorFetch.ErrorMessage","path":"ScribeError"},{"id":"441d6761-5d05-48fe-843c-f067734f3293","targetDataType":"System.String","targetField":"ErrorId","targetFormula":"ScribeAPI_ErrorFetch.Id","path":"ScribeError"},{"id":"c551944f-00bb-40cb-984e-3d770387b16f","targetDataType":"System.String","targetField":"ExecutionDetails","targetFormula":"ScribeAPI_HistoryFetch.Details","path":"ScribeError"},{"id":"6bc6036e-c815-4599-aab3-878dea982f9d","targetDataType":"System.Int32","targetField":"ExecutionDuration","targetFormula":"ScribeAPI_HistoryFetch.Duration","path":"ScribeError"},{"id":"3b09d279-3acc-41ba-bca8-d5a58a8614a8","targetDataType":"System.DateTime","targetField":"ExecutionStart","targetFormula":"ScribeAPI_HistoryFetch.Start","path":"ScribeError"},{"id":"4df4812c-e094-4d1b-95be-30b68bd77fae","targetDataType":"System.DateTime","targetField":"ExecutionStop","targetFormula":"ScribeAPI_HistoryFetch.Stop","path":"ScribeError"},{"id":"c9b98f32-2a77-4c6c-8526-bbc8b0324d79","targetDataType":"System.String","targetField":"FailedRecordId","targetFormula":"ScribeAPI_ErrorFetch.FailedRecordId","path":"ScribeError"},{"id":"c6e674b5-4432-48dd-9da6-0dd3bf14e6e3","targetDataType":"System.String","targetField":"HistoryId","targetFormula":"ScribeAPI_HistoryFetch.Id","path":"ScribeError"},{"id":"f9c0c3c6-4716-40cf-af4b-09984817a36e","targetDataType":"System.Boolean","targetField":"IsActionTaken","targetFormula":"false","path":"ScribeError"},{"id":"7b5318ae-65c9-4ce2-aad9-de9387c75c45","targetDataType":"System.Boolean","targetField":"IsMetadataProcessed","targetFormula":"false","path":"ScribeError"},{"id":"797b4a30-2834-4668-b09b-85f3c8f6687c","targetDataType":"System.Boolean","targetField":"IsReprocessJob","targetFormula":"ScribeAPI_HistoryFetch.IsReprocessJob","path":"ScribeError"},{"id":"103d936a-721a-4a56-b4d0-d97615700e25","targetDataType":"System.String","targetField":"MapName","targetFormula":"ScribeAPI_ErrorFetch.MapName","path":"ScribeError"},{"id":"bb10b835-ae85-40ba-ae2d-ca88d38d0945","targetDataType":"System.Boolean","targetField":"Marked","targetFormula":"ScribeAPI_ErrorFetch.Marked","path":"ScribeError"},{"id":"e44fce25-32fe-4e44-b708-eddc3f7b57c8","targetDataType":"System.Int32","targetField":"RecordsFailed","targetFormula":"ScribeAPI_HistoryFetch.RecordsFailed","path":"ScribeError"},{"id":"a55a8f0f-226c-4216-9953-e4537717024a","targetDataType":"System.Int32","targetField":"RecordsProcessed","targetFormula":"ScribeAPI_HistoryFetch.RecordsProcessed","path":"ScribeError"},{"id":"9c4adb63-3dc3-4b50-a9e9-5170c4bf8ea1","targetDataType":"System.Int32","targetField":"ReprocessRecordsRemaining","targetFormula":"ScribeAPI_HistoryFetch.ReprocessRecordsRemaining","path":"ScribeError"},{"id":"76fbe848-ef65-4bd9-a07b-9d7743725f6b","targetDataType":"System.String","targetField":"Result","targetFormula":"ScribeAPI_HistoryFetch.Result","path":"ScribeError"},{"id":"37ae1b94-68ef-4bbc-86c2-0a36a639e043","targetDataType":"System.String","targetField":"SolutionId","targetFormula":"Solution.Id","path":"ScribeError"},{"id":"b9769f70-eaf4-48fc-995b-14b80a0705f1","targetDataType":"System.DateTime","targetField":"SolutionLastRun","targetFormula":"Solution.LastRunTime","path":"ScribeError"},{"id":"94f5ff7a-72ed-49a4-a644-69315ac7b296","targetDataType":"System.String","targetField":"SolutionName","targetFormula":"Solution.Name","path":"ScribeError"},{"id":"463608ec-c2b2-4869-a471-392c9f536458","targetDataType":"System.Boolean","targetField":"SourceDataLocal","targetFormula":"ScribeAPI_HistoryFetch.SourceDataLocal","path":"ScribeError"},{"id":"fa803385-c7e3-432a-8013-219074a5091d","targetDataType":"System.String","targetField":"SourceEntity","targetFormula":"ScribeAPI_ErrorFetch.SourceEntity","path":"ScribeError"}]}],"Revision":1,"RevisionDate":"2018-04-07T01:02:37.98","RevisionComment":"Initial Revision"}