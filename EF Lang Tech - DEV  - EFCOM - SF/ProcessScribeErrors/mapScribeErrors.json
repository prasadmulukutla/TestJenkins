{"Description":"","Valid":true,"Id":2322084,"LastModificationDate":"2018-09-26T05:00:00.403","LastRunDate":null,"MapType":"IntegrationServicesAdvancedMap","Name":"mapScribeErrors","NetChange":true,"NetChangeFieldName":"LastRunTime","ProcessDefinitionDbId":"388b2562-d109-4488-b23f-058dc64bc968","SourceConnectionId":"d2959379-8043-4ecd-9756-5b4bff647360","SourceConnectionName":"Scribe API","SourceConnectionAlias":"ScribeAPI","StartingBlockId":"d32d9efb-eab6-4b98-9619-076cff38e73e","SourceConnectionType":"Scribe Platform API","TargetConnections":[{"ConnectionAlias":"SFIntegration","ConnectionId":"bd24590d-4de3-4dc5-b564-12719dbde5e1","ConnectionName":"SFIntegration","ConnectionType":"Microsoft SQL Server"},{"ConnectionAlias":"ScribeLookup","ConnectionId":"01ac5d37-a5f4-4819-b357-bec035973c27","ConnectionName":"Scribe Lookup","ConnectionType":"Scribe Labs - Lookup Tables"},{"ConnectionAlias":"ScribeVariables","ConnectionId":"12d4d6bd-109d-4e10-81a4-f2403dd6e3e7","ConnectionName":"Scribe Variables","ConnectionType":"Scribe Labs - Variables"}],"Version":"2.2","Blocks":[{"id":"d32d9efb-eab6-4b98-9619-076cff38e73e","blockType":"Query","category":"Source","name":"Solution","description":"","label":"Query Solution","originalBlockLabel":"Query","nextBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","parentBlockId":"","prevBlockId":"","x":297,"y":25,"entity":"Solution","actionName":"Query","connectionId":"d2959379-8043-4ecd-9756-5b4bff647360","filterItems":[],"relationships":[]},{"id":"ad0d0533-67ce-4412-9b44-cd609b726791","blockType":"ForEach","category":"Control","name":"ForEach","description":"","label":"For Each Result","originalBlockLabel":"For Each Result","nextBlockId":"","parentBlockId":"","prevBlockId":"d32d9efb-eab6-4b98-9619-076cff38e73e","firstChildBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c"},{"id":"36b91559-fc4e-4f03-8426-74ccf48ba55c","blockType":"IfElse","category":"Control","name":"IfElse2","description":"","label":"If First Record","originalBlockLabel":"If","nextBlockId":"3c06239e-153e-41d0-bf21-d13e1f2d9641","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"","firstChildBlockContainer1Id":"1d5c4b25-82da-45e8-81e9-18b02731e611","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"RECNUM()","logicalOperator":0,"rightExpression":"1","id":"4bb5db46-3a45-435c-817f-099f8c9e7ca8"}]},{"id":"1d5c4b25-82da-45e8-81e9-18b02731e611","blockType":"Lookup","category":"Target","name":"LookupTableValueLookup","description":"","label":"Lookup LookupTableValue","originalBlockLabel":"Lookup","nextBlockId":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"","containerIndex":0,"entity":"LookupTableValue","cacheResults":true,"actionName":"Query","connectionId":"01ac5d37-a5f4-4819-b357-bec035973c27","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"GUID(\"fb37b26f-2622-4836-b971-25e81a2a4541\")","comparisonOperator":0,"fieldName":"tableid","logicalOperator":0,"id":"655e5e5e-bea5-4f67-9f06-526de592635e"},{"compareValue":"GUID(\"415faaa4-bae6-4292-9a92-6222c932e26d\")","comparisonOperator":0,"fieldName":"id","logicalOperator":0,"id":"be0d79ff-719b-4749-8b14-1a53c5c675c7"}],"fieldsToLookup":["value2","value1","id","tableid","tablename"]},{"id":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","blockType":"Upsert","category":"Target","name":"DateVariableUpsert","description":"","label":"Upsert DateVariable","originalBlockLabel":"Upsert","nextBlockId":"03425498-31e5-46a7-8e38-36becd614bc0","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"1d5c4b25-82da-45e8-81e9-18b02731e611","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"DateVariable","actionName":"Upsert","connectionId":"12d4d6bd-109d-4e10-81a4-f2403dd6e3e7","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"2a8d5cbb-8581-4529-9c2c-fd5ff27dcde4","targetDataType":"System.String","targetField":"name","targetFormula":"\"LastErrorRun\"","path":"DateVariable"},{"id":"898d3b91-ea8c-48f3-9d86-46b3a9d3d604","targetDataType":"System.DateTime","targetField":"val","targetFormula":"ScribeLookup_LookupTableValueLookup.value2","path":"DateVariable"}]},{"id":"03425498-31e5-46a7-8e38-36becd614bc0","blockType":"Upsert","category":"Target","name":"LookupTableValueUpsert","description":"","label":"Upsert LookupTableValue","originalBlockLabel":"Upsert","nextBlockId":"","parentBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","prevBlockId":"ea2db0c3-8a02-48ac-b0f9-182024e6f58e","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"LookupTableValue","actionName":"Upsert","connectionId":"01ac5d37-a5f4-4819-b357-bec035973c27","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"01dde063-8cd7-4a2a-b645-cd964943e978","targetDataType":"System.Guid","targetField":"id","targetFormula":"GUID(\"415faaa4-bae6-4292-9a92-6222c932e26d\")","path":"LookupTableValue"},{"id":"4e02fc93-39aa-43bd-8abe-dbd585171959","targetDataType":"System.Guid","targetField":"tableid","targetFormula":"GUID(\"fb37b26f-2622-4836-b971-25e81a2a4541\")","path":"LookupTableValue"},{"id":"05101af0-50cc-46f6-b867-16947f9235e0","targetDataType":"System.String","targetField":"value2","targetFormula":"GETUTCDATETIME()","path":"LookupTableValue"},{"id":"5fb66825-fd6c-4afd-8abf-bc9a6c47867a","targetDataType":"System.String","targetField":"value1","targetFormula":"\"LastErrorRun\"","path":"LookupTableValue"}]},{"id":"3c06239e-153e-41d0-bf21-d13e1f2d9641","blockType":"Lookup","category":"Target","name":"DateVariableLookup","description":"","label":"Lookup DateVariable","originalBlockLabel":"Lookup","nextBlockId":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"36b91559-fc4e-4f03-8426-74ccf48ba55c","entity":"DateVariable","cacheResults":true,"actionName":"Query","connectionId":"12d4d6bd-109d-4e10-81a4-f2403dd6e3e7","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"\"LastErrorRun\"","comparisonOperator":0,"fieldName":"name","logicalOperator":0,"id":"5f3cc52b-1077-4723-bdac-8ed2b67d366c"}],"fieldsToLookup":["val","name"]},{"id":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","blockType":"Fetch","category":"Source","name":"HistoryFetch","description":"","label":"Fetch History","originalBlockLabel":"Fetch","nextBlockId":"","parentBlockId":"ad0d0533-67ce-4412-9b44-cd609b726791","prevBlockId":"3c06239e-153e-41d0-bf21-d13e1f2d9641","entity":"History","firstChildBlockId":"4bad3b0f-968b-4e2b-b711-6a021c19002a","actionName":"Query","connectionId":"d2959379-8043-4ecd-9756-5b4bff647360","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Solution.OrganizationId","comparisonOperator":0,"fieldName":"OrganizationId","logicalOperator":0,"id":"c9fdfe53-5967-4df4-8d49-4311e2ab98f9"},{"compareValue":"Solution.Id","comparisonOperator":0,"fieldName":"SolutionId","logicalOperator":0,"id":"2f595ed2-070e-4344-b420-5153a69727ef"},{"compareValue":"ScribeVariables_DateVariableLookup.val","comparisonOperator":0,"fieldName":"LaterThanDate","logicalOperator":0,"id":"12ec9bcb-fe8f-4a19-9ce7-4c9fb6d65bb6"}],"relationships":[]},{"id":"4bad3b0f-968b-4e2b-b711-6a021c19002a","blockType":"IfElse","category":"Control","name":"IfElse","description":"","label":"If Execution Failed","originalBlockLabel":"If","nextBlockId":"","parentBlockId":"9d4661e1-0114-4305-b6d3-0ecf75c4530c","prevBlockId":"","firstChildBlockContainer1Id":"209ef3b7-8438-4578-a7bd-645213ec149f","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":4,"leftExpression":"FIND(ScribeAPI_HistoryFetch.Result,\"Error\")","logicalOperator":0,"rightExpression":"0","id":"ec44c937-61a5-429d-b14a-ba4d322773ee"}]},{"id":"209ef3b7-8438-4578-a7bd-645213ec149f","blockType":"Fetch","category":"Source","name":"ErrorFetch","description":"","label":"Fetch Error","originalBlockLabel":"Fetch","nextBlockId":"","parentBlockId":"4bad3b0f-968b-4e2b-b711-6a021c19002a","prevBlockId":"","containerIndex":0,"entity":"Error","firstChildBlockId":"1772eaa6-6ae8-4b88-bba6-ef77ef5800c2","actionName":"Query","connectionId":"d2959379-8043-4ecd-9756-5b4bff647360","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Solution.OrganizationId","comparisonOperator":0,"fieldName":"OrganizationId","logicalOperator":0,"id":"56475b38-d61b-4740-ad2b-504e168986aa"},{"compareValue":"Solution.Id","comparisonOperator":0,"fieldName":"SolutionId","logicalOperator":0,"id":"61509636-847f-4cfb-b42d-6f5699776dab"},{"compareValue":"ScribeAPI_HistoryFetch.Id","comparisonOperator":0,"fieldName":"HistoryId","logicalOperator":0,"id":"3cfae4fd-c62a-4e2d-b8d8-b4382961b696"}],"relationships":[]},{"id":"1772eaa6-6ae8-4b88-bba6-ef77ef5800c2","blockType":"Insert","category":"Target","name":"ScribeErrorCreate","description":"","label":"Create ScribeError","originalBlockLabel":"Create","nextBlockId":"","parentBlockId":"209ef3b7-8438-4578-a7bd-645213ec149f","prevBlockId":"","bulkCountPerOperation":200,"useBulk":true,"entity":"ScribeError","actionName":"Create","connectionId":"bd24590d-4de3-4dc5-b564-12719dbde5e1","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"7ac7dfde-9b78-426f-9688-8afa9a342bfa","targetDataType":"System.String","targetField":"AdditionalErrorDetails","targetFormula":"ScribeAPI_ErrorFetch.AdditionalErrorDetails","path":"ScribeError"},{"id":"c2c68619-a3ec-41e9-adb3-1d9690aca327","targetDataType":"System.Boolean","targetField":"CanReprocess","targetFormula":"ScribeAPI_ErrorFetch.CanReprocess","path":"ScribeError"},{"id":"39db5aee-a95d-446f-9a0d-091a706a22e8","targetDataType":"System.String","targetField":"ErrorDetail","targetFormula":"ScribeAPI_ErrorFetch.ErrorDetail","path":"ScribeError"},{"id":"80484a26-76f5-4c58-8a39-f5b940d2b7b9","targetDataType":"System.String","targetField":"ErrorMessage","targetFormula":"ScribeAPI_ErrorFetch.ErrorMessage","path":"ScribeError"},{"id":"d4489812-c8e6-40d6-a379-103c3543009a","targetDataType":"System.String","targetField":"ErrorId","targetFormula":"ScribeAPI_ErrorFetch.Id","path":"ScribeError"},{"id":"6393295e-34d6-4104-becb-36af265ae2e5","targetDataType":"System.String","targetField":"ExecutionDetails","targetFormula":"ScribeAPI_HistoryFetch.Details","path":"ScribeError"},{"id":"4ba508b0-9701-4aed-a268-ce54e3f55cb6","targetDataType":"System.Int32","targetField":"ExecutionDuration","targetFormula":"ScribeAPI_HistoryFetch.Duration","path":"ScribeError"},{"id":"85911748-ab34-492d-adf9-95a6f8f23199","targetDataType":"System.DateTime","targetField":"ExecutionStart","targetFormula":"ScribeAPI_HistoryFetch.Start","path":"ScribeError"},{"id":"481707c8-3279-4f1a-bcb5-88469b0d19b3","targetDataType":"System.DateTime","targetField":"ExecutionStop","targetFormula":"ScribeAPI_HistoryFetch.Stop","path":"ScribeError"},{"id":"2ebe3370-c3fd-4c2d-b3ca-9b01781753da","targetDataType":"System.String","targetField":"FailedRecordId","targetFormula":"ScribeAPI_ErrorFetch.FailedRecordId","path":"ScribeError"},{"id":"4a7b20b0-d49b-4e3f-b94b-54e3aaea4fea","targetDataType":"System.String","targetField":"HistoryId","targetFormula":"ScribeAPI_HistoryFetch.Id","path":"ScribeError"},{"id":"bab45bd4-6ded-4318-888f-7a372953b75c","targetDataType":"System.Boolean","targetField":"IsActionTaken","targetFormula":"false","path":"ScribeError"},{"id":"e8b7331a-9e07-4a1f-82fb-0d112c6c1a2d","targetDataType":"System.Boolean","targetField":"IsMetadataProcessed","targetFormula":"false","path":"ScribeError"},{"id":"22947bb4-cb94-492e-9bc6-51f0283d7346","targetDataType":"System.Boolean","targetField":"IsReprocessJob","targetFormula":"ScribeAPI_HistoryFetch.IsReprocessJob","path":"ScribeError"},{"id":"40364196-8fbe-4857-bf3d-a9d9a9da0bf7","targetDataType":"System.String","targetField":"MapName","targetFormula":"ScribeAPI_ErrorFetch.MapName","path":"ScribeError"},{"id":"ff909665-ba12-4d9f-ab00-8dea47012632","targetDataType":"System.Boolean","targetField":"Marked","targetFormula":"ScribeAPI_ErrorFetch.Marked","path":"ScribeError"},{"id":"969ea03e-c96c-4b53-83d6-4d0644906eb1","targetDataType":"System.Int32","targetField":"RecordsFailed","targetFormula":"ScribeAPI_HistoryFetch.RecordsFailed","path":"ScribeError"},{"id":"9a8ae071-f212-4e24-8bd9-80e5471887a2","targetDataType":"System.Int32","targetField":"RecordsProcessed","targetFormula":"ScribeAPI_HistoryFetch.RecordsProcessed","path":"ScribeError"},{"id":"f9885c0c-1a76-4561-8900-8c693cddc53a","targetDataType":"System.Int32","targetField":"ReprocessRecordsRemaining","targetFormula":"ScribeAPI_HistoryFetch.ReprocessRecordsRemaining","path":"ScribeError"},{"id":"6618dcb2-3a3d-4cea-9f55-b68a4885a2ef","targetDataType":"System.String","targetField":"Result","targetFormula":"ScribeAPI_HistoryFetch.Result","path":"ScribeError"},{"id":"ba96b436-b272-4161-b301-95b361547465","targetDataType":"System.String","targetField":"SolutionId","targetFormula":"Solution.Id","path":"ScribeError"},{"id":"dc046d92-e45e-4c24-91ff-74bab30b0502","targetDataType":"System.DateTime","targetField":"SolutionLastRun","targetFormula":"Solution.LastRunTime","path":"ScribeError"},{"id":"6abf35b9-3e91-4f12-8c48-65993a5c0f38","targetDataType":"System.String","targetField":"SolutionName","targetFormula":"Solution.Name","path":"ScribeError"},{"id":"09218796-9611-42bb-a665-b939bea3cc0f","targetDataType":"System.Boolean","targetField":"SourceDataLocal","targetFormula":"ScribeAPI_HistoryFetch.SourceDataLocal","path":"ScribeError"},{"id":"ec293157-b50b-4097-8a0f-a8be4c4560b4","targetDataType":"System.String","targetField":"SourceEntity","targetFormula":"ScribeAPI_ErrorFetch.SourceEntity","path":"ScribeError"}]}],"Revision":1,"RevisionDate":"2018-04-07T01:02:37.98","RevisionComment":"Initial Revision"}