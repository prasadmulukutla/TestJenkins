{"Description":"","Valid":true,"Id":2322062,"LastModificationDate":"2018-10-09T12:23:11.19","LastRunDate":null,"MapType":"IntegrationServicesAdvancedRequestResponseMap","Name":"Poseidon_SF_Booking_Map","NetChange":false,"NetChangeFieldName":null,"ProcessDefinitionDbId":"a3d2765b-ef2f-49ba-a9fe-e8cdcd7fdeb0","SourceConnectionId":"00000000-0000-0000-0000-000000000000","SourceConnectionName":null,"SourceConnectionAlias":null,"StartingBlockId":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","SourceConnectionType":null,"TargetConnections":[{"ConnectionAlias":"Salesforce","ConnectionId":"010be794-527c-4f44-a1e1-83ab99542b18","ConnectionName":"Salesforce","ConnectionType":"Salesforce"}],"Version":"2.2","Blocks":[{"id":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","blockType":"WaitForRequest","category":"Source","name":"WaitForRequest","description":"","label":"Wait For Request","originalBlockLabel":"Wait For Request","nextBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","parentBlockId":"","prevBlockId":"","x":204,"y":105,"entity":"WaitForRequest","actionName":"Wait For Request","requestData":[{"dataType":13,"name":"SfAccountId","sampleValue":"0016E00000TCey9QAD"},{"dataType":13,"name":"BookingDate","sampleValue":"StringValue"},{"dataType":13,"name":"BookingStatYear","sampleValue":"StringValue"},{"dataType":13,"name":"BrochureSeason","sampleValue":"StringValue"},{"dataType":13,"name":"BrochureYear","sampleValue":"StringValue"},{"dataType":13,"name":"UniqueCustomerId","sampleValue":"StringValue"},{"dataType":13,"name":"Currency","sampleValue":"StringValue"},{"dataType":13,"name":"MainSalesResponsible","sampleValue":"anuj.kapoor"},{"dataType":13,"name":"StartDate","sampleValue":"StringValue"},{"dataType":13,"name":"EndDate","sampleValue":"StringValue"},{"dataType":13,"name":"Currentenddate","sampleValue":"StringValue"},{"dataType":13,"name":"Opportunity","sampleValue":"StringValue"},{"dataType":13,"name":"ProductCode","sampleValue":"StringValue"},{"dataType":13,"name":"ProgramCode","sampleValue":"StringValue"},{"dataType":13,"name":"SalesOffice","sampleValue":"StringValue"},{"dataType":13,"name":"Status","sampleValue":"BKN"},{"dataType":13,"name":"SubStatus","sampleValue":"StringValue"},{"dataType":13,"name":"VisaStatus","sampleValue":"StringValue"},{"dataType":13,"name":"VisaSubStatus","sampleValue":"StringValue"},{"dataType":13,"name":"BookingLineInfo","sampleValue":"StringValue"},{"dataType":0,"name":"IsNewBooking","sampleValue":"True"},{"dataType":13,"name":"BookingNumber","sampleValue":"NOO918020"},{"dataType":0,"name":"IsSuccess","sampleValue":"True"},{"dataType":13,"name":"Message","sampleValue":"StringValue"},{"dataType":13,"name":"PreBookingDate","sampleValue":"StringValue"},{"dataType":13,"name":"BookingCaxDate","sampleValue":"StringValue"},{"dataType":13,"name":"Duration","sampleValue":"StringValue"},{"dataType":13,"name":"DestinationCode","sampleValue":"StringValue"},{"dataType":13,"name":"ReferringAmbassador","sampleValue":"StringValue"},{"dataType":13,"name":"BookingEnteredBy","sampleValue":"StringValue"},{"dataType":13,"name":"LastDestination","sampleValue":"StringValue"},{"dataType":13,"name":"School","sampleValue":"StringValue"},{"dataType":13,"name":"ReferringInstitution","sampleValue":"StringValue"},{"dataType":13,"name":"Company","sampleValue":"StringValue"}]},{"id":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","blockType":"IfElse","category":"Control","name":"IfElse2","description":"","label":"If Booking successfully created","originalBlockLabel":"If","nextBlockId":"55bfea81-8ac5-48d6-83e4-48b5255470fe","parentBlockId":"","prevBlockId":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","firstChildBlockContainer1Id":"c23ddfa7-8e2a-478d-8820-03b1111695db","firstChildBlockContainer2Id":"d1311744-2b6b-4d24-9d26-53e4003fa3a1","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"WaitForRequest.IsSuccess","logicalOperator":0,"rightExpression":"True","id":"0c935aa5-66ae-402a-a2f1-852e01fe4fa3"}]},{"id":"c23ddfa7-8e2a-478d-8820-03b1111695db","blockType":"Lookup","category":"Target","name":"UserLookup","description":"","label":"Lookup User for MainSalesResponsible","originalBlockLabel":"Lookup","nextBlockId":"7ed476d9-e1e8-45ae-a071-698eee305969","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"","containerIndex":0,"entity":"User","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"CONCATENATE(WaitForRequest.MainSalesResponsible,\"@ef.com.lang.dev\")","comparisonOperator":0,"fieldName":"Username","logicalOperator":0,"id":"b8bd62d0-1b76-483f-8fd5-57c7b4a1ded6"}],"fieldsToLookup":["Id"]},{"id":"7ed476d9-e1e8-45ae-a071-698eee305969","blockType":"Lookup","category":"Target","name":"UserLookup2","description":"","label":"Lookup User for booking entered by","originalBlockLabel":"Lookup","nextBlockId":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"c23ddfa7-8e2a-478d-8820-03b1111695db","containerIndex":0,"entity":"User","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"CONCATENATE(WaitForRequest.BookingEnteredBy,\"@ef.com.lang.dev\")","comparisonOperator":0,"fieldName":"Username","logicalOperator":0,"id":"f65b625b-2095-4f65-8084-0d19a6f4b247"}],"fieldsToLookup":["Id"]},{"id":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","blockType":"Lookup","category":"Target","name":"Booking__cLookup","description":"","label":"Lookup Booking__c","originalBlockLabel":"Lookup","nextBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"7ed476d9-e1e8-45ae-a071-698eee305969","containerIndex":0,"entity":"Booking__c","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.BookingNumber","comparisonOperator":0,"fieldName":"Name","logicalOperator":0,"id":"b9a07371-edee-4dee-a83d-6b938e729d53"}],"fieldsToLookup":["Id"]},{"id":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","blockType":"IfElse","category":"Control","name":"IfElse3","description":"","label":"If records not found","originalBlockLabel":"If","nextBlockId":"a7594353-20e0-4191-b49b-7581157413e1","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","containerIndex":0,"firstChildBlockContainer1Id":"41be4a00-6dab-46c6-8314-09cf8ce84ce1","firstChildBlockContainer2Id":"6b7bfccf-bcf2-464b-8c93-d49dc9937111","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"Salesforce_Booking__cLookup.Result.Success","logicalOperator":0,"rightExpression":"True","id":"d2601d08-89fd-4cc4-b2c2-1e331c80533d"},{"conditionOperator":0,"leftExpression":"Salesforce_Booking__cLookup.Result.RecordsMatched","logicalOperator":0,"rightExpression":"0","id":"5b1dbe2d-a8a8-47ef-87cd-6455af0172a6"}]},{"id":"41be4a00-6dab-46c6-8314-09cf8ce84ce1","blockType":"Insert","category":"Target","name":"Booking__cCreate","description":"","label":"Create Booking__c","originalBlockLabel":"Create","nextBlockId":"","parentBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","prevBlockId":"","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Create","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"c67b62a6-1af8-46a6-b015-f3240f129716","targetDataType":"System.String","targetField":"AccountId__c","targetFormula":"WaitForRequest.SfAccountId","path":"Booking__c"},{"id":"ffe1271a-309d-4600-b0ba-ac4bb29d8cad","targetDataType":"System.DateTime","targetField":"BookingDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingDate),null,WaitForRequest.BookingDate)","path":"Booking__c"},{"id":"2d86c8b9-7e2e-4167-81d1-f120fe42649f","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingLineInfo),null,WaitForRequest.BookingLineInfo)","path":"Booking__c"},{"id":"e78c5028-3682-4208-b480-f5f44a4dde92","targetDataType":"System.Double","targetField":"BookingStatsYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingStatYear),null,WaitForRequest.BookingStatYear)","path":"Booking__c"},{"id":"3d4feeac-dcd6-4e54-8b92-ddd1acd5cedc","targetDataType":"System.String","targetField":"BrochureSeason__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureSeason),null,WaitForRequest.BrochureSeason)","path":"Booking__c"},{"id":"a1ce7782-b63b-4e83-85f2-f94d8893491a","targetDataType":"System.Double","targetField":"BrochureYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureYear),null,WaitForRequest.BrochureYear)","path":"Booking__c"},{"id":"c950cfd1-1f5d-40c2-8a5e-a5c6c5eb0b94","targetDataType":"System.String","targetField":"CurrencyIsoCode","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Currency),null,WaitForRequest.Currency)","path":"Booking__c"},{"id":"ec982dca-cda1-436e-a9f0-de425b304d60","targetDataType":"System.String","targetField":"MainSalesResponsible__c","targetFormula":"Salesforce_UserLookup.Id","path":"Booking__c"},{"id":"d9c2a92c-c485-4dfa-b13c-866acfe08755","targetDataType":"System.DateTime","targetField":"MaxEndDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.EndDate),null,WaitForRequest.EndDate)","path":"Booking__c"},{"id":"ac729212-04b9-4220-a332-799c3f81c9ac","targetDataType":"System.DateTime","targetField":"MinStartDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.StartDate),null,WaitForRequest.StartDate)","path":"Booking__c"},{"id":"0a3ae12f-f1f9-4e98-9789-b94737375700","targetDataType":"System.String","targetField":"Name","targetFormula":"WaitForRequest.BookingNumber","path":"Booking__c"},{"id":"5828f995-cf8a-48c9-9f41-faa583b0de67","targetDataType":"System.String","targetField":"OpportunityId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Opportunity),null,WaitForRequest.Opportunity)","path":"Booking__c"},{"id":"68dc2894-2ce0-4ba8-818a-1a6c4779af41","targetDataType":"System.Double","targetField":"PosCustomerId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.UniqueCustomerId),null,WaitForRequest.UniqueCustomerId)","path":"Booking__c"},{"id":"74c56c96-8b73-4583-ab88-37b474824a64","targetDataType":"System.String","targetField":"Product__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProductCode),null,WaitForRequest.ProductCode)","path":"Booking__c"},{"id":"6211349b-809e-4c45-89cf-666e9cd91fd8","targetDataType":"System.String","targetField":"Program__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProgramCode),null,WaitForRequest.ProgramCode)","path":"Booking__c"},{"id":"624fbbdc-e4c9-4874-a2e6-e29329ee56df","targetDataType":"System.String","targetField":"SalesOffice__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SalesOffice),null,WaitForRequest.SalesOffice)","path":"Booking__c"},{"id":"f19532c2-5539-4569-81d8-c8c85bd517af","targetDataType":"System.String","targetField":"Status__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Status),null,WaitForRequest.Status)","path":"Booking__c"},{"id":"878aacaf-f3b3-44da-962f-401e520e6a50","targetDataType":"System.String","targetField":"SubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SubStatus),null,WaitForRequest.SubStatus)","path":"Booking__c"},{"id":"92e4913c-323a-44ef-b684-dcbd210f7bf9","targetDataType":"System.String","targetField":"VisaStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaStatus),null,WaitForRequest.VisaStatus)","path":"Booking__c"},{"id":"f9bfd4e9-77e0-43a3-92d8-e02ed862a38d","targetDataType":"System.String","targetField":"VisaSubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaSubStatus),null,WaitForRequest.VisaSubStatus)","path":"Booking__c"},{"id":"9faf9943-2d75-48e7-806a-7ff2579618e7","targetDataType":"System.DateTime","targetField":"CancellationDate__c","targetFormula":"WaitForRequest.BookingCaxDate","path":"Booking__c"},{"id":"4d6b7421-469c-4c7e-906d-53f19f7d0a85","targetDataType":"System.DateTime","targetField":"PreApplicationDate__c","targetFormula":"WaitForRequest.PreBookingDate","path":"Booking__c"},{"id":"c1a383b7-74a2-49a0-adf4-40edee19016e","targetDataType":"System.String","targetField":"CreatedById","targetFormula":"Salesforce_UserLookup2.Id","path":"Booking__c"},{"id":"9979bdf9-57fd-4515-96b0-a17ef3847d2a","targetDataType":"System.String","targetField":"LastModifiedById","targetFormula":"Salesforce_UserLookup2.Id","path":"Booking__c"},{"id":"52ae8eb4-6782-4e9f-b315-2bc0085d4b23","targetDataType":"System.String","targetField":"Destination__c","targetFormula":"WaitForRequest.DestinationCode","path":"Booking__c"},{"id":"8673f141-9602-40b5-9059-a8b0a33d117a","targetDataType":"System.Double","targetField":"Duration__c","targetFormula":"WaitForRequest.Duration","path":"Booking__c"},{"id":"945d8dc3-ecef-4e82-83a1-ac307cfc1277","targetDataType":"System.String","targetField":"ReferringAmbassador__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"08164483-bd1d-4bd8-8a2c-ab541e9e2c16","targetDataType":"System.String","targetField":"LastDestination__c","targetFormula":"WaitForRequest.LastDestination","path":"Booking__c"},{"id":"f6fd05bb-062f-40ba-a8c5-11eab83ebbdc","targetDataType":"System.String","targetField":"School__c","targetFormula":"WaitForRequest.School","path":"Booking__c"},{"id":"62e28e3b-5228-43e8-a637-60aabb2df638","targetDataType":"System.String","targetField":"ReferringInstitution__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"eb378a01-1187-448e-9c4d-3619e067c0ba","targetDataType":"System.String","targetField":"Company__c","targetFormula":"WaitForRequest.Company","path":"Booking__c"}]},{"id":"6b7bfccf-bcf2-464b-8c93-d49dc9937111","blockType":"Update","category":"Target","name":"Booking__cUpdate_2","description":"","label":"Update Booking__c","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","prevBlockId":"","containerIndex":1,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Salesforce_Booking__cLookup.Id","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"ee7d141c-4196-4739-ae2a-139affb53f3a"}],"fieldMappings":[{"id":"267ed779-4680-4594-a10e-a9ec64e9ecae","targetDataType":"System.String","targetField":"AccountId__c","targetFormula":"WaitForRequest.SfAccountId","path":"Booking__c"},{"id":"f14051ef-0738-4197-811e-d2f45500503c","targetDataType":"System.DateTime","targetField":"BookingDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingDate),null,WaitForRequest.BookingDate)","path":"Booking__c"},{"id":"67493466-1483-4458-98ed-2470cffef186","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingLineInfo),null,WaitForRequest.BookingLineInfo)","path":"Booking__c"},{"id":"faaa3435-a3b1-4a95-bfd3-1d1166d3c10c","targetDataType":"System.Double","targetField":"BookingStatsYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingStatYear),null,WaitForRequest.BookingStatYear)","path":"Booking__c"},{"id":"84f2d103-381e-4e2a-98c3-afa78d3be27f","targetDataType":"System.String","targetField":"BrochureSeason__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureSeason),null,WaitForRequest.BrochureSeason)","path":"Booking__c"},{"id":"c5786999-32ee-430e-9c72-75a07cac2f5e","targetDataType":"System.Double","targetField":"BrochureYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureYear),null,WaitForRequest.BrochureYear)","path":"Booking__c"},{"id":"7895c1e7-471e-44a7-9ce8-7205e72cfd5f","targetDataType":"System.String","targetField":"CurrencyIsoCode","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Currency),null,WaitForRequest.Currency)","path":"Booking__c"},{"id":"52757341-8de8-45f5-96ba-d581fcb49ef5","targetDataType":"System.String","targetField":"MainSalesResponsible__c","targetFormula":"Salesforce_UserLookup.Id","path":"Booking__c"},{"id":"8b8888c4-f9d8-469c-bbd7-62c79e728e46","targetDataType":"System.DateTime","targetField":"MaxEndDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.EndDate),null,WaitForRequest.EndDate)","path":"Booking__c"},{"id":"411027f1-5875-4dc0-9f72-ff8cac841ec1","targetDataType":"System.DateTime","targetField":"MinStartDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.StartDate),null,WaitForRequest.StartDate)","path":"Booking__c"},{"id":"bdfce7a5-f2ee-4106-8899-3443cee3d3f7","targetDataType":"System.String","targetField":"Name","targetFormula":"WaitForRequest.BookingNumber","path":"Booking__c"},{"id":"6a1f74aa-b132-451f-a446-574e730aab8b","targetDataType":"System.String","targetField":"OpportunityId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Opportunity),null,WaitForRequest.Opportunity)","path":"Booking__c"},{"id":"ccadd821-0a76-4d90-9df7-fdbc450d0246","targetDataType":"System.Double","targetField":"PosCustomerId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.UniqueCustomerId),null,WaitForRequest.UniqueCustomerId)","path":"Booking__c"},{"id":"6fe55664-d6fd-4a2e-9956-906a11d79b5a","targetDataType":"System.String","targetField":"Product__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProductCode),null,WaitForRequest.ProductCode)","path":"Booking__c"},{"id":"bbbad418-bd28-48a0-8d84-f362358d53a2","targetDataType":"System.String","targetField":"Program__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProgramCode),null,WaitForRequest.ProgramCode)","path":"Booking__c"},{"id":"7cab68de-ac1c-4878-bf33-419037617edd","targetDataType":"System.String","targetField":"SalesOffice__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SalesOffice),null,WaitForRequest.SalesOffice)","path":"Booking__c"},{"id":"87fe44de-a6e7-4be1-87a1-469a75c7dd8b","targetDataType":"System.String","targetField":"Status__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Status),null,WaitForRequest.Status)","path":"Booking__c"},{"id":"823d4267-810f-419e-ae8a-f8700946e750","targetDataType":"System.String","targetField":"SubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SubStatus),null,WaitForRequest.SubStatus)","path":"Booking__c"},{"id":"162f5197-ce69-4a09-9af7-3ce6975a372e","targetDataType":"System.String","targetField":"VisaStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaStatus),null,WaitForRequest.VisaStatus)","path":"Booking__c"},{"id":"1d16568f-827a-496f-94b9-82522a4d71bd","targetDataType":"System.String","targetField":"VisaSubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaSubStatus),null,WaitForRequest.VisaSubStatus)","path":"Booking__c"},{"id":"0618c2e1-8f63-495f-bc8e-10a52dcff978","targetDataType":"System.DateTime","targetField":"CancellationDate__c","targetFormula":"WaitForRequest.BookingCaxDate","path":"Booking__c"},{"id":"4a837f0c-2391-47f1-80b0-bf90b85b4426","targetDataType":"System.DateTime","targetField":"PreApplicationDate__c","targetFormula":"WaitForRequest.PreBookingDate","path":"Booking__c"},{"id":"d58a1198-da0c-4b89-bf54-e1e05ce5768b","targetDataType":"System.String","targetField":"Destination__c","targetFormula":"WaitForRequest.DestinationCode","path":"Booking__c"},{"id":"cbdee64e-9b48-4d6d-8615-d19677466502","targetDataType":"System.Double","targetField":"Duration__c","targetFormula":"WaitForRequest.Duration","path":"Booking__c"},{"id":"211537f6-1131-4c57-b293-498c57a2968c","targetDataType":"System.String","targetField":"LastDestination__c","targetFormula":"WaitForRequest.LastDestination","path":"Booking__c"},{"id":"4a89b077-c3a4-4fe9-9ba4-eb67e710ca20","targetDataType":"System.String","targetField":"School__c","targetFormula":"WaitForRequest.School","path":"Booking__c"},{"id":"989d25dd-7f61-4bf0-8146-1681126fa4f1","targetDataType":"System.String","targetField":"ReferringAmbassador__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"861344be-e1e2-450a-abcc-e8cacba27fee","targetDataType":"System.String","targetField":"Company__c","targetFormula":"WaitForRequest.Company","path":"Booking__c"},{"id":"bc74fc02-ccfe-4e78-931a-1ae9f9955b86","targetDataType":"System.String","targetField":"ReferringInstitution__c","targetFormula":"WaitForRequest.ReferringInstitution","path":"Booking__c"}]},{"id":"a7594353-20e0-4191-b49b-7581157413e1","blockType":"IfElse","category":"Control","name":"IfElse","description":"","label":"If New Booking then Update Account with PosCustomer ID","originalBlockLabel":"If","nextBlockId":"","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","containerIndex":0,"firstChildBlockContainer1Id":"c4991b19-4a43-45c3-bfc3-a70dcda46ebd","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"WaitForRequest.IsNewBooking","logicalOperator":0,"rightExpression":"true","id":"8fd982f2-d2af-4270-89ed-822c85fcf85f"}]},{"id":"c4991b19-4a43-45c3-bfc3-a70dcda46ebd","blockType":"Update","category":"Target","name":"AccountUpdate","description":"","label":"Update Account","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"a7594353-20e0-4191-b49b-7581157413e1","prevBlockId":"","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Account","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.SfAccountId","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"7b001fac-2bdc-4cc8-b6b1-04b017c275cc"}],"fieldMappings":[{"id":"e5c61a85-3f41-44ee-8c6d-4ac9ffff9572","targetDataType":"System.String","targetField":"AccountExternalId__c","targetFormula":"WaitForRequest.UniqueCustomerId","path":"Account"}]},{"id":"d1311744-2b6b-4d24-9d26-53e4003fa3a1","blockType":"Update","category":"Target","name":"Booking__cUpdate","description":"","label":"Update Booking__c","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"","containerIndex":1,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.BookingNumber","comparisonOperator":0,"fieldName":"Name","logicalOperator":1,"id":"7a40d435-b606-4a39-87ef-4cef8e2d0146"}],"fieldMappings":[{"id":"0350eaf6-6d16-4d1a-9963-d6a8f6a02ed4","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Message),null,WaitForRequest.Message)","path":"Booking__c"},{"id":"60293eb9-af01-44b5-a4ff-bb6f1d800fcb","targetDataType":"System.String","targetField":"Status__c","targetFormula":"\"ERR\"","path":"Booking__c"}]},{"id":"55bfea81-8ac5-48d6-83e4-48b5255470fe","blockType":"BuildReply","category":"Source","name":"BuildReply","description":"","label":"Build Reply","originalBlockLabel":"Build Reply","nextBlockId":"6b13146d-4b03-43e0-b66b-9e3ec40bd7b0","parentBlockId":"","prevBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","entity":"Data","actionName":"Build Reply","ancestorReplyBlockId":"","fieldMappings":[{"id":"1dc114a2-95b3-4bb8-befc-f43efbcd7814","targetDataType":"String","targetField":"Status","targetFormula":"\"Success\"","path":"Data"}]},{"id":"6b13146d-4b03-43e0-b66b-9e3ec40bd7b0","blockType":"SendReply","category":"Source","name":"SendReply","description":"","label":"Send Reply","originalBlockLabel":"Send Reply","nextBlockId":"","parentBlockId":"","prevBlockId":"55bfea81-8ac5-48d6-83e4-48b5255470fe","entity":"WaitForRequest","fatalExitErrorMessage":"Map stopped with an error.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isFatalExit":false,"actionName":"Send Reply"}],"Revision":41,"RevisionDate":"2018-07-20T09:27:31.75","RevisionComment":null}