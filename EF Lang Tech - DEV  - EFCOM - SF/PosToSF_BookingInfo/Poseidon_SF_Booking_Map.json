{"Description":"","Valid":true,"Id":2320809,"LastModificationDate":"2018-10-09T12:23:11.19","LastRunDate":null,"MapType":"IntegrationServicesAdvancedRequestResponseMap","Name":"Poseidon_SF_Booking_Map","NetChange":false,"NetChangeFieldName":null,"ProcessDefinitionDbId":"a3d2765b-ef2f-49ba-a9fe-e8cdcd7fdeb0","SourceConnectionId":"00000000-0000-0000-0000-000000000000","SourceConnectionName":null,"SourceConnectionAlias":null,"StartingBlockId":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","SourceConnectionType":null,"TargetConnections":[{"ConnectionAlias":"Salesforce","ConnectionId":"010be794-527c-4f44-a1e1-83ab99542b18","ConnectionName":"Salesforce","ConnectionType":"Salesforce"}],"Version":"2.2","Blocks":[{"id":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","blockType":"WaitForRequest","category":"Source","name":"WaitForRequest","description":"","label":"Wait For Request","originalBlockLabel":"Wait For Request","nextBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","parentBlockId":"","prevBlockId":"","x":204,"y":105,"entity":"WaitForRequest","actionName":"Wait For Request","requestData":[{"dataType":13,"name":"SfAccountId","sampleValue":"0016E00000TCey9QAD"},{"dataType":13,"name":"BookingDate","sampleValue":"StringValue"},{"dataType":13,"name":"BookingStatYear","sampleValue":"StringValue"},{"dataType":13,"name":"BrochureSeason","sampleValue":"StringValue"},{"dataType":13,"name":"BrochureYear","sampleValue":"StringValue"},{"dataType":13,"name":"UniqueCustomerId","sampleValue":"StringValue"},{"dataType":13,"name":"Currency","sampleValue":"StringValue"},{"dataType":13,"name":"MainSalesResponsible","sampleValue":"anuj.kapoor"},{"dataType":13,"name":"StartDate","sampleValue":"StringValue"},{"dataType":13,"name":"EndDate","sampleValue":"StringValue"},{"dataType":13,"name":"Currentenddate","sampleValue":"StringValue"},{"dataType":13,"name":"Opportunity","sampleValue":"StringValue"},{"dataType":13,"name":"ProductCode","sampleValue":"StringValue"},{"dataType":13,"name":"ProgramCode","sampleValue":"StringValue"},{"dataType":13,"name":"SalesOffice","sampleValue":"StringValue"},{"dataType":13,"name":"Status","sampleValue":"BKN"},{"dataType":13,"name":"SubStatus","sampleValue":"StringValue"},{"dataType":13,"name":"VisaStatus","sampleValue":"StringValue"},{"dataType":13,"name":"VisaSubStatus","sampleValue":"StringValue"},{"dataType":13,"name":"BookingLineInfo","sampleValue":"StringValue"},{"dataType":0,"name":"IsNewBooking","sampleValue":"True"},{"dataType":13,"name":"BookingNumber","sampleValue":"NOO918020"},{"dataType":0,"name":"IsSuccess","sampleValue":"True"},{"dataType":13,"name":"Message","sampleValue":"StringValue"},{"dataType":13,"name":"PreBookingDate","sampleValue":"StringValue"},{"dataType":13,"name":"BookingCaxDate","sampleValue":"StringValue"},{"dataType":13,"name":"Duration","sampleValue":"StringValue"},{"dataType":13,"name":"DestinationCode","sampleValue":"StringValue"},{"dataType":13,"name":"ReferringAmbassador","sampleValue":"StringValue"},{"dataType":13,"name":"BookingEnteredBy","sampleValue":"StringValue"},{"dataType":13,"name":"LastDestination","sampleValue":"StringValue"},{"dataType":13,"name":"School","sampleValue":"StringValue"},{"dataType":13,"name":"ReferringInstitution","sampleValue":"StringValue"},{"dataType":13,"name":"Company","sampleValue":"StringValue"}]},{"id":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","blockType":"IfElse","category":"Control","name":"IfElse2","description":"","label":"If Booking successfully created","originalBlockLabel":"If","nextBlockId":"55bfea81-8ac5-48d6-83e4-48b5255470fe","parentBlockId":"","prevBlockId":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","firstChildBlockContainer1Id":"c23ddfa7-8e2a-478d-8820-03b1111695db","firstChildBlockContainer2Id":"d1311744-2b6b-4d24-9d26-53e4003fa3a1","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"WaitForRequest.IsSuccess","logicalOperator":0,"rightExpression":"True","id":"8cc7bd91-3c93-4d22-bfb2-7fb62c8d1af3"}]},{"id":"c23ddfa7-8e2a-478d-8820-03b1111695db","blockType":"Lookup","category":"Target","name":"UserLookup","description":"","label":"Lookup User for MainSalesResponsible","originalBlockLabel":"Lookup","nextBlockId":"7ed476d9-e1e8-45ae-a071-698eee305969","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"","containerIndex":0,"entity":"User","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"CONCATENATE(WaitForRequest.MainSalesResponsible,\"@ef.com.lang.dev\")","comparisonOperator":0,"fieldName":"Username","logicalOperator":0,"id":"5a51b013-f7cd-4e96-8797-e17e0b7cd00d"}],"fieldsToLookup":["Id"]},{"id":"7ed476d9-e1e8-45ae-a071-698eee305969","blockType":"Lookup","category":"Target","name":"UserLookup2","description":"","label":"Lookup User for booking entered by","originalBlockLabel":"Lookup","nextBlockId":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"c23ddfa7-8e2a-478d-8820-03b1111695db","containerIndex":0,"entity":"User","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"CONCATENATE(WaitForRequest.BookingEnteredBy,\"@ef.com.lang.dev\")","comparisonOperator":0,"fieldName":"Username","logicalOperator":0,"id":"7325cf5b-5fae-4d37-8a57-10fbb5bc25c0"}],"fieldsToLookup":["Id"]},{"id":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","blockType":"Lookup","category":"Target","name":"Booking__cLookup","description":"","label":"Lookup Booking__c","originalBlockLabel":"Lookup","nextBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"7ed476d9-e1e8-45ae-a071-698eee305969","containerIndex":0,"entity":"Booking__c","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.BookingNumber","comparisonOperator":0,"fieldName":"Name","logicalOperator":0,"id":"835c1d8c-fcb5-4fae-8807-b4fe71223ea9"}],"fieldsToLookup":["Id"]},{"id":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","blockType":"IfElse","category":"Control","name":"IfElse3","description":"","label":"If records not found","originalBlockLabel":"If","nextBlockId":"a7594353-20e0-4191-b49b-7581157413e1","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","containerIndex":0,"firstChildBlockContainer1Id":"41be4a00-6dab-46c6-8314-09cf8ce84ce1","firstChildBlockContainer2Id":"6b7bfccf-bcf2-464b-8c93-d49dc9937111","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"Salesforce_Booking__cLookup.Result.Success","logicalOperator":0,"rightExpression":"True","id":"6b4306a0-b290-49f8-a708-82117b32083d"},{"conditionOperator":0,"leftExpression":"Salesforce_Booking__cLookup.Result.RecordsMatched","logicalOperator":0,"rightExpression":"0","id":"02d1fc19-5ea7-4640-8af6-8a581e1880b5"}]},{"id":"41be4a00-6dab-46c6-8314-09cf8ce84ce1","blockType":"Insert","category":"Target","name":"Booking__cCreate","description":"","label":"Create Booking__c","originalBlockLabel":"Create","nextBlockId":"","parentBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","prevBlockId":"","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Create","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"a76f83af-96ee-4503-ba2b-6b71c6b68228","targetDataType":"System.String","targetField":"AccountId__c","targetFormula":"WaitForRequest.SfAccountId","path":"Booking__c"},{"id":"dbcf936e-bf3e-46ac-8c5a-3fe591c3f10f","targetDataType":"System.DateTime","targetField":"BookingDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingDate),null,WaitForRequest.BookingDate)","path":"Booking__c"},{"id":"ea5a057b-5aaa-4854-b4b9-0bca9b50436d","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingLineInfo),null,WaitForRequest.BookingLineInfo)","path":"Booking__c"},{"id":"a6c63ddc-1b6f-493d-9948-d73b33114993","targetDataType":"System.Double","targetField":"BookingStatsYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingStatYear),null,WaitForRequest.BookingStatYear)","path":"Booking__c"},{"id":"1d48c727-8c44-4fe7-b0d9-4d97f3ac269c","targetDataType":"System.String","targetField":"BrochureSeason__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureSeason),null,WaitForRequest.BrochureSeason)","path":"Booking__c"},{"id":"2fda5584-1614-4f57-bccd-43097b5ce30a","targetDataType":"System.Double","targetField":"BrochureYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureYear),null,WaitForRequest.BrochureYear)","path":"Booking__c"},{"id":"c1ec0a4c-1a71-4b72-ada2-9d75961c8e6e","targetDataType":"System.String","targetField":"CurrencyIsoCode","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Currency),null,WaitForRequest.Currency)","path":"Booking__c"},{"id":"e52b08ea-0f9a-44f7-b22d-6169590361af","targetDataType":"System.String","targetField":"MainSalesResponsible__c","targetFormula":"Salesforce_UserLookup.Id","path":"Booking__c"},{"id":"165395f6-12f9-43cf-9903-801f0a3a5a4e","targetDataType":"System.DateTime","targetField":"MaxEndDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.EndDate),null,WaitForRequest.EndDate)","path":"Booking__c"},{"id":"2d5ffcda-3cfb-4fdd-9653-9660f22ee81c","targetDataType":"System.DateTime","targetField":"MinStartDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.StartDate),null,WaitForRequest.StartDate)","path":"Booking__c"},{"id":"52353c4f-08ae-4b98-a1bf-802bc6c5a730","targetDataType":"System.String","targetField":"Name","targetFormula":"WaitForRequest.BookingNumber","path":"Booking__c"},{"id":"7d229238-39b5-4a26-8884-1d3874e24fcb","targetDataType":"System.String","targetField":"OpportunityId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Opportunity),null,WaitForRequest.Opportunity)","path":"Booking__c"},{"id":"bfdfea31-e894-48a7-8ae0-5d52350983e4","targetDataType":"System.Double","targetField":"PosCustomerId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.UniqueCustomerId),null,WaitForRequest.UniqueCustomerId)","path":"Booking__c"},{"id":"c1c72935-ec25-4006-b134-4641e88c1b17","targetDataType":"System.String","targetField":"Product__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProductCode),null,WaitForRequest.ProductCode)","path":"Booking__c"},{"id":"b8430547-b620-4853-9333-6281306b3913","targetDataType":"System.String","targetField":"Program__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProgramCode),null,WaitForRequest.ProgramCode)","path":"Booking__c"},{"id":"08370ca8-261b-4b93-99af-c0a7d2c99e12","targetDataType":"System.String","targetField":"SalesOffice__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SalesOffice),null,WaitForRequest.SalesOffice)","path":"Booking__c"},{"id":"99bcc2da-6010-46bc-a7dd-7b3766621d53","targetDataType":"System.String","targetField":"Status__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Status),null,WaitForRequest.Status)","path":"Booking__c"},{"id":"6437f6d8-5947-475f-b717-b3ba6d940113","targetDataType":"System.String","targetField":"SubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SubStatus),null,WaitForRequest.SubStatus)","path":"Booking__c"},{"id":"21ab363a-a381-47fa-b93a-d20729ba16e9","targetDataType":"System.String","targetField":"VisaStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaStatus),null,WaitForRequest.VisaStatus)","path":"Booking__c"},{"id":"b8746aa5-e663-4de4-b23b-ebb5cd895de1","targetDataType":"System.String","targetField":"VisaSubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaSubStatus),null,WaitForRequest.VisaSubStatus)","path":"Booking__c"},{"id":"d62ffb72-646f-4e6e-a4b3-6baeeec60b43","targetDataType":"System.DateTime","targetField":"CancellationDate__c","targetFormula":"WaitForRequest.BookingCaxDate","path":"Booking__c"},{"id":"7e39ef3a-811a-40fb-9792-b33c7bdec5e9","targetDataType":"System.DateTime","targetField":"PreApplicationDate__c","targetFormula":"WaitForRequest.PreBookingDate","path":"Booking__c"},{"id":"8d8ef60e-2077-44e9-9496-5fabd9e298b6","targetDataType":"System.String","targetField":"CreatedById","targetFormula":"Salesforce_UserLookup2.Id","path":"Booking__c"},{"id":"7595b874-0a72-4994-bb54-f83bedb64a6a","targetDataType":"System.String","targetField":"LastModifiedById","targetFormula":"Salesforce_UserLookup2.Id","path":"Booking__c"},{"id":"af660c00-ba97-4071-8768-8208bf1b0091","targetDataType":"System.String","targetField":"Destination__c","targetFormula":"WaitForRequest.DestinationCode","path":"Booking__c"},{"id":"52f0f17d-65db-4601-83f5-0411df96a780","targetDataType":"System.Double","targetField":"Duration__c","targetFormula":"WaitForRequest.Duration","path":"Booking__c"},{"id":"9b4e705d-061f-497e-a308-bf7c8ef307bd","targetDataType":"System.String","targetField":"ReferringAmbassador__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"38bee311-9928-44e1-a128-bab3857f2ff0","targetDataType":"System.String","targetField":"LastDestination__c","targetFormula":"WaitForRequest.LastDestination","path":"Booking__c"},{"id":"91263850-b876-4573-864e-8d03b5a664bd","targetDataType":"System.String","targetField":"School__c","targetFormula":"WaitForRequest.School","path":"Booking__c"},{"id":"f6186482-78ac-4447-8853-758195f3e815","targetDataType":"System.String","targetField":"ReferringInstitution__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"78548aa4-a43f-41c8-a2a0-9b70904bc7e5","targetDataType":"System.String","targetField":"Company__c","targetFormula":"WaitForRequest.Company","path":"Booking__c"}]},{"id":"6b7bfccf-bcf2-464b-8c93-d49dc9937111","blockType":"Update","category":"Target","name":"Booking__cUpdate_2","description":"","label":"Update Booking__c","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","prevBlockId":"","containerIndex":1,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Salesforce_Booking__cLookup.Id","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"483aa761-715f-41c1-9e61-a200e5ec3dcd"}],"fieldMappings":[{"id":"b6f34023-95be-41ad-ab11-4d9e9b2895cc","targetDataType":"System.String","targetField":"AccountId__c","targetFormula":"WaitForRequest.SfAccountId","path":"Booking__c"},{"id":"90374e04-6a91-4999-9bf6-8181e50a8d27","targetDataType":"System.DateTime","targetField":"BookingDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingDate),null,WaitForRequest.BookingDate)","path":"Booking__c"},{"id":"015e9c14-5e58-4545-8886-21259d38845f","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingLineInfo),null,WaitForRequest.BookingLineInfo)","path":"Booking__c"},{"id":"581bc473-0628-4a3b-9fc8-f74e15055f0d","targetDataType":"System.Double","targetField":"BookingStatsYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingStatYear),null,WaitForRequest.BookingStatYear)","path":"Booking__c"},{"id":"bfed4b8d-fdb4-4f83-a0f9-9575470a87a6","targetDataType":"System.String","targetField":"BrochureSeason__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureSeason),null,WaitForRequest.BrochureSeason)","path":"Booking__c"},{"id":"1d856361-2cd5-4682-95d7-0f7fe6caec09","targetDataType":"System.Double","targetField":"BrochureYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureYear),null,WaitForRequest.BrochureYear)","path":"Booking__c"},{"id":"cbf54d7a-a71f-487b-9af3-4fa298f21ccc","targetDataType":"System.String","targetField":"CurrencyIsoCode","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Currency),null,WaitForRequest.Currency)","path":"Booking__c"},{"id":"e9f6087b-fa5c-415e-aeee-bb10110f511c","targetDataType":"System.String","targetField":"MainSalesResponsible__c","targetFormula":"Salesforce_UserLookup.Id","path":"Booking__c"},{"id":"5789ce86-60da-4fe2-8a5b-d0faff94d708","targetDataType":"System.DateTime","targetField":"MaxEndDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.EndDate),null,WaitForRequest.EndDate)","path":"Booking__c"},{"id":"7ae0c726-c22f-4cb5-89b1-f310e7612fb1","targetDataType":"System.DateTime","targetField":"MinStartDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.StartDate),null,WaitForRequest.StartDate)","path":"Booking__c"},{"id":"b8087f58-d989-4575-805e-7bfaf45bb5dd","targetDataType":"System.String","targetField":"Name","targetFormula":"WaitForRequest.BookingNumber","path":"Booking__c"},{"id":"8bfb6a8b-5570-42fb-8309-ce6def6f90db","targetDataType":"System.String","targetField":"OpportunityId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Opportunity),null,WaitForRequest.Opportunity)","path":"Booking__c"},{"id":"5aacbca0-335f-45f5-bca0-2a5cefa2c665","targetDataType":"System.Double","targetField":"PosCustomerId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.UniqueCustomerId),null,WaitForRequest.UniqueCustomerId)","path":"Booking__c"},{"id":"b4112279-9c45-4430-b222-f18a9c17cde2","targetDataType":"System.String","targetField":"Product__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProductCode),null,WaitForRequest.ProductCode)","path":"Booking__c"},{"id":"3c6c8320-a407-4767-8cfd-eecfadf621c3","targetDataType":"System.String","targetField":"Program__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProgramCode),null,WaitForRequest.ProgramCode)","path":"Booking__c"},{"id":"9853e3eb-373c-4688-bb03-40ff295a46d5","targetDataType":"System.String","targetField":"SalesOffice__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SalesOffice),null,WaitForRequest.SalesOffice)","path":"Booking__c"},{"id":"59c7e41a-7dd6-4c5a-8eb1-474440245487","targetDataType":"System.String","targetField":"Status__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Status),null,WaitForRequest.Status)","path":"Booking__c"},{"id":"d01f9c13-4c63-4fb9-a6a9-445ec0df4043","targetDataType":"System.String","targetField":"SubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SubStatus),null,WaitForRequest.SubStatus)","path":"Booking__c"},{"id":"968cee9c-576e-4346-84d2-40b1367a2350","targetDataType":"System.String","targetField":"VisaStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaStatus),null,WaitForRequest.VisaStatus)","path":"Booking__c"},{"id":"e9c28024-eafd-450d-827b-9ba1dab25518","targetDataType":"System.String","targetField":"VisaSubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaSubStatus),null,WaitForRequest.VisaSubStatus)","path":"Booking__c"},{"id":"ba14a4ef-8dca-4876-aff8-b8da07930628","targetDataType":"System.DateTime","targetField":"CancellationDate__c","targetFormula":"WaitForRequest.BookingCaxDate","path":"Booking__c"},{"id":"ee3d0cc1-4fe8-43e6-92c4-0d1d701e4f06","targetDataType":"System.DateTime","targetField":"PreApplicationDate__c","targetFormula":"WaitForRequest.PreBookingDate","path":"Booking__c"},{"id":"ee0e5d10-4b3e-4caf-b4d1-4495167e837e","targetDataType":"System.String","targetField":"Destination__c","targetFormula":"WaitForRequest.DestinationCode","path":"Booking__c"},{"id":"dda00a64-2191-4917-ab22-6fd21a037db4","targetDataType":"System.Double","targetField":"Duration__c","targetFormula":"WaitForRequest.Duration","path":"Booking__c"},{"id":"617edefd-4915-4a2b-a6cd-80a414c252e7","targetDataType":"System.String","targetField":"LastDestination__c","targetFormula":"WaitForRequest.LastDestination","path":"Booking__c"},{"id":"c1eb0460-4620-4253-928d-50f5321a4b0f","targetDataType":"System.String","targetField":"School__c","targetFormula":"WaitForRequest.School","path":"Booking__c"},{"id":"3fe10019-816f-417a-875b-122450f64989","targetDataType":"System.String","targetField":"ReferringAmbassador__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"45503212-5594-4507-aa6d-63486275e897","targetDataType":"System.String","targetField":"Company__c","targetFormula":"WaitForRequest.Company","path":"Booking__c"},{"id":"cb3332b6-2488-4dfd-9524-a933dbc3bf6c","targetDataType":"System.String","targetField":"ReferringInstitution__c","targetFormula":"WaitForRequest.ReferringInstitution","path":"Booking__c"}]},{"id":"a7594353-20e0-4191-b49b-7581157413e1","blockType":"IfElse","category":"Control","name":"IfElse","description":"","label":"If New Booking then Update Account with PosCustomer ID","originalBlockLabel":"If","nextBlockId":"","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","containerIndex":0,"firstChildBlockContainer1Id":"c4991b19-4a43-45c3-bfc3-a70dcda46ebd","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"WaitForRequest.IsNewBooking","logicalOperator":0,"rightExpression":"true","id":"af9dc195-c94b-4304-b0c0-dcccb7b9b16a"}]},{"id":"c4991b19-4a43-45c3-bfc3-a70dcda46ebd","blockType":"Update","category":"Target","name":"AccountUpdate","description":"","label":"Update Account","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"a7594353-20e0-4191-b49b-7581157413e1","prevBlockId":"","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Account","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.SfAccountId","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"01cf0ee7-c765-4d03-b8dd-7b8781483da3"}],"fieldMappings":[{"id":"a77c90c3-c72d-4b79-9dd2-3e8f75cce61d","targetDataType":"System.String","targetField":"AccountExternalId__c","targetFormula":"WaitForRequest.UniqueCustomerId","path":"Account"}]},{"id":"d1311744-2b6b-4d24-9d26-53e4003fa3a1","blockType":"Update","category":"Target","name":"Booking__cUpdate","description":"","label":"Update Booking__c","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"","containerIndex":1,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.BookingNumber","comparisonOperator":0,"fieldName":"Name","logicalOperator":1,"id":"52bdf8d0-9596-4bbb-9b85-899b450d4f51"}],"fieldMappings":[{"id":"5efc7c7b-d8e2-40ba-ace9-95b09a7ef479","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Message),null,WaitForRequest.Message)","path":"Booking__c"},{"id":"14504b07-f47b-4e73-9f19-e5aea57b9376","targetDataType":"System.String","targetField":"Status__c","targetFormula":"\"ERR\"","path":"Booking__c"}]},{"id":"55bfea81-8ac5-48d6-83e4-48b5255470fe","blockType":"BuildReply","category":"Source","name":"BuildReply","description":"","label":"Build Reply","originalBlockLabel":"Build Reply","nextBlockId":"6b13146d-4b03-43e0-b66b-9e3ec40bd7b0","parentBlockId":"","prevBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","entity":"Data","actionName":"Build Reply","ancestorReplyBlockId":"","fieldMappings":[{"id":"0e06e98a-7f68-4d35-ba47-e34381246fe8","targetDataType":"String","targetField":"Status","targetFormula":"\"Success\"","path":"Data"}]},{"id":"6b13146d-4b03-43e0-b66b-9e3ec40bd7b0","blockType":"SendReply","category":"Source","name":"SendReply","description":"","label":"Send Reply","originalBlockLabel":"Send Reply","nextBlockId":"","parentBlockId":"","prevBlockId":"55bfea81-8ac5-48d6-83e4-48b5255470fe","entity":"WaitForRequest","fatalExitErrorMessage":"Map stopped with an error.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isFatalExit":false,"actionName":"Send Reply"}],"Revision":41,"RevisionDate":"2018-07-20T09:27:31.75","RevisionComment":null}