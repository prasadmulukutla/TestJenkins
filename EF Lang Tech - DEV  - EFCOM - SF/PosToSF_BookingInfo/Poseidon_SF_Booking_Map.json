{"Description":"","Valid":true,"Id":2321203,"LastModificationDate":"2018-10-09T12:23:11.19","LastRunDate":null,"MapType":"IntegrationServicesAdvancedRequestResponseMap","Name":"Poseidon_SF_Booking_Map","NetChange":false,"NetChangeFieldName":null,"ProcessDefinitionDbId":"a3d2765b-ef2f-49ba-a9fe-e8cdcd7fdeb0","SourceConnectionId":"00000000-0000-0000-0000-000000000000","SourceConnectionName":null,"SourceConnectionAlias":null,"StartingBlockId":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","SourceConnectionType":null,"TargetConnections":[{"ConnectionAlias":"Salesforce","ConnectionId":"010be794-527c-4f44-a1e1-83ab99542b18","ConnectionName":"Salesforce","ConnectionType":"Salesforce"}],"Version":"2.2","Blocks":[{"id":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","blockType":"WaitForRequest","category":"Source","name":"WaitForRequest","description":"","label":"Wait For Request","originalBlockLabel":"Wait For Request","nextBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","parentBlockId":"","prevBlockId":"","x":204,"y":105,"entity":"WaitForRequest","actionName":"Wait For Request","requestData":[{"dataType":13,"name":"SfAccountId","sampleValue":"0016E00000TCey9QAD"},{"dataType":13,"name":"BookingDate","sampleValue":"StringValue"},{"dataType":13,"name":"BookingStatYear","sampleValue":"StringValue"},{"dataType":13,"name":"BrochureSeason","sampleValue":"StringValue"},{"dataType":13,"name":"BrochureYear","sampleValue":"StringValue"},{"dataType":13,"name":"UniqueCustomerId","sampleValue":"StringValue"},{"dataType":13,"name":"Currency","sampleValue":"StringValue"},{"dataType":13,"name":"MainSalesResponsible","sampleValue":"anuj.kapoor"},{"dataType":13,"name":"StartDate","sampleValue":"StringValue"},{"dataType":13,"name":"EndDate","sampleValue":"StringValue"},{"dataType":13,"name":"Currentenddate","sampleValue":"StringValue"},{"dataType":13,"name":"Opportunity","sampleValue":"StringValue"},{"dataType":13,"name":"ProductCode","sampleValue":"StringValue"},{"dataType":13,"name":"ProgramCode","sampleValue":"StringValue"},{"dataType":13,"name":"SalesOffice","sampleValue":"StringValue"},{"dataType":13,"name":"Status","sampleValue":"BKN"},{"dataType":13,"name":"SubStatus","sampleValue":"StringValue"},{"dataType":13,"name":"VisaStatus","sampleValue":"StringValue"},{"dataType":13,"name":"VisaSubStatus","sampleValue":"StringValue"},{"dataType":13,"name":"BookingLineInfo","sampleValue":"StringValue"},{"dataType":0,"name":"IsNewBooking","sampleValue":"True"},{"dataType":13,"name":"BookingNumber","sampleValue":"NOO918020"},{"dataType":0,"name":"IsSuccess","sampleValue":"True"},{"dataType":13,"name":"Message","sampleValue":"StringValue"},{"dataType":13,"name":"PreBookingDate","sampleValue":"StringValue"},{"dataType":13,"name":"BookingCaxDate","sampleValue":"StringValue"},{"dataType":13,"name":"Duration","sampleValue":"StringValue"},{"dataType":13,"name":"DestinationCode","sampleValue":"StringValue"},{"dataType":13,"name":"ReferringAmbassador","sampleValue":"StringValue"},{"dataType":13,"name":"BookingEnteredBy","sampleValue":"StringValue"},{"dataType":13,"name":"LastDestination","sampleValue":"StringValue"},{"dataType":13,"name":"School","sampleValue":"StringValue"},{"dataType":13,"name":"ReferringInstitution","sampleValue":"StringValue"},{"dataType":13,"name":"Company","sampleValue":"StringValue"}]},{"id":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","blockType":"IfElse","category":"Control","name":"IfElse2","description":"","label":"If Booking successfully created","originalBlockLabel":"If","nextBlockId":"55bfea81-8ac5-48d6-83e4-48b5255470fe","parentBlockId":"","prevBlockId":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","firstChildBlockContainer1Id":"c23ddfa7-8e2a-478d-8820-03b1111695db","firstChildBlockContainer2Id":"d1311744-2b6b-4d24-9d26-53e4003fa3a1","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"WaitForRequest.IsSuccess","logicalOperator":0,"rightExpression":"True","id":"1dc51a00-ac04-4b31-82ea-b2fc2896b526"}]},{"id":"c23ddfa7-8e2a-478d-8820-03b1111695db","blockType":"Lookup","category":"Target","name":"UserLookup","description":"","label":"Lookup User for MainSalesResponsible","originalBlockLabel":"Lookup","nextBlockId":"7ed476d9-e1e8-45ae-a071-698eee305969","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"","containerIndex":0,"entity":"User","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"CONCATENATE(WaitForRequest.MainSalesResponsible,\"@ef.com.lang.dev\")","comparisonOperator":0,"fieldName":"Username","logicalOperator":0,"id":"f067d2f4-5aee-4876-9348-7306bdc225c9"}],"fieldsToLookup":["Id"]},{"id":"7ed476d9-e1e8-45ae-a071-698eee305969","blockType":"Lookup","category":"Target","name":"UserLookup2","description":"","label":"Lookup User for booking entered by","originalBlockLabel":"Lookup","nextBlockId":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"c23ddfa7-8e2a-478d-8820-03b1111695db","containerIndex":0,"entity":"User","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"CONCATENATE(WaitForRequest.BookingEnteredBy,\"@ef.com.lang.dev\")","comparisonOperator":0,"fieldName":"Username","logicalOperator":0,"id":"cd5ce280-0db1-400a-b529-267012dab346"}],"fieldsToLookup":["Id"]},{"id":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","blockType":"Lookup","category":"Target","name":"Booking__cLookup","description":"","label":"Lookup Booking__c","originalBlockLabel":"Lookup","nextBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"7ed476d9-e1e8-45ae-a071-698eee305969","containerIndex":0,"entity":"Booking__c","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.BookingNumber","comparisonOperator":0,"fieldName":"Name","logicalOperator":0,"id":"1c27250c-961b-4238-b061-158e20e6c1ee"}],"fieldsToLookup":["Id"]},{"id":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","blockType":"IfElse","category":"Control","name":"IfElse3","description":"","label":"If records not found","originalBlockLabel":"If","nextBlockId":"a7594353-20e0-4191-b49b-7581157413e1","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","containerIndex":0,"firstChildBlockContainer1Id":"41be4a00-6dab-46c6-8314-09cf8ce84ce1","firstChildBlockContainer2Id":"6b7bfccf-bcf2-464b-8c93-d49dc9937111","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"Salesforce_Booking__cLookup.Result.Success","logicalOperator":0,"rightExpression":"True","id":"6ce2a2d9-69ea-4852-a9f4-d4eab42c0d95"},{"conditionOperator":0,"leftExpression":"Salesforce_Booking__cLookup.Result.RecordsMatched","logicalOperator":0,"rightExpression":"0","id":"a80aa4d3-adac-4ee8-a2e5-dabedc0d97d0"}]},{"id":"41be4a00-6dab-46c6-8314-09cf8ce84ce1","blockType":"Insert","category":"Target","name":"Booking__cCreate","description":"","label":"Create Booking__c","originalBlockLabel":"Create","nextBlockId":"","parentBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","prevBlockId":"","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Create","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"57e286bb-be21-4738-932b-49d0eefa39d1","targetDataType":"System.String","targetField":"AccountId__c","targetFormula":"WaitForRequest.SfAccountId","path":"Booking__c"},{"id":"3d0b9867-14b5-493b-ba1c-b37ebf69997e","targetDataType":"System.DateTime","targetField":"BookingDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingDate),null,WaitForRequest.BookingDate)","path":"Booking__c"},{"id":"7d8873de-12be-4344-a831-6386f9ddef02","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingLineInfo),null,WaitForRequest.BookingLineInfo)","path":"Booking__c"},{"id":"84d4a08b-1718-46bd-8f45-d747d74d8255","targetDataType":"System.Double","targetField":"BookingStatsYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingStatYear),null,WaitForRequest.BookingStatYear)","path":"Booking__c"},{"id":"d0a33d75-eeee-4133-86ef-91ed2836f20b","targetDataType":"System.String","targetField":"BrochureSeason__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureSeason),null,WaitForRequest.BrochureSeason)","path":"Booking__c"},{"id":"f422a792-f417-4b64-866a-86d686196077","targetDataType":"System.Double","targetField":"BrochureYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureYear),null,WaitForRequest.BrochureYear)","path":"Booking__c"},{"id":"fa979a42-efbf-4303-ac01-3d0b577eb7ca","targetDataType":"System.String","targetField":"CurrencyIsoCode","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Currency),null,WaitForRequest.Currency)","path":"Booking__c"},{"id":"94a7d65d-8b26-4790-9575-2be8a34ff14d","targetDataType":"System.String","targetField":"MainSalesResponsible__c","targetFormula":"Salesforce_UserLookup.Id","path":"Booking__c"},{"id":"f6462d8b-ff7b-4128-a9da-cd523e008726","targetDataType":"System.DateTime","targetField":"MaxEndDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.EndDate),null,WaitForRequest.EndDate)","path":"Booking__c"},{"id":"cddb2146-8e39-46b3-8f01-2142c136e5eb","targetDataType":"System.DateTime","targetField":"MinStartDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.StartDate),null,WaitForRequest.StartDate)","path":"Booking__c"},{"id":"4329a9dd-0180-4c10-9640-dcad15b83dbb","targetDataType":"System.String","targetField":"Name","targetFormula":"WaitForRequest.BookingNumber","path":"Booking__c"},{"id":"77c5a9ca-d28a-43b2-8e0c-ddc2676deed3","targetDataType":"System.String","targetField":"OpportunityId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Opportunity),null,WaitForRequest.Opportunity)","path":"Booking__c"},{"id":"76a726c2-a4bc-4845-bb7c-f8f1f18975c4","targetDataType":"System.Double","targetField":"PosCustomerId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.UniqueCustomerId),null,WaitForRequest.UniqueCustomerId)","path":"Booking__c"},{"id":"54b233cb-3a59-451a-94a6-bb0be7b4e16c","targetDataType":"System.String","targetField":"Product__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProductCode),null,WaitForRequest.ProductCode)","path":"Booking__c"},{"id":"5685bd06-7033-4e2c-9fb6-9ec3bf76dd62","targetDataType":"System.String","targetField":"Program__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProgramCode),null,WaitForRequest.ProgramCode)","path":"Booking__c"},{"id":"c43376ae-ed7a-499e-80a7-99ff1be0721a","targetDataType":"System.String","targetField":"SalesOffice__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SalesOffice),null,WaitForRequest.SalesOffice)","path":"Booking__c"},{"id":"8ee20de6-6f48-4196-b7d8-b5b012eeed46","targetDataType":"System.String","targetField":"Status__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Status),null,WaitForRequest.Status)","path":"Booking__c"},{"id":"6696edd7-a4dc-4ddf-938f-39709c9d6035","targetDataType":"System.String","targetField":"SubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SubStatus),null,WaitForRequest.SubStatus)","path":"Booking__c"},{"id":"e6a315e9-b906-42ba-8557-d39dd49e999c","targetDataType":"System.String","targetField":"VisaStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaStatus),null,WaitForRequest.VisaStatus)","path":"Booking__c"},{"id":"587170b4-48cf-45bf-92bd-df644e075c59","targetDataType":"System.String","targetField":"VisaSubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaSubStatus),null,WaitForRequest.VisaSubStatus)","path":"Booking__c"},{"id":"567024fe-7acf-4112-b803-1ab8d9c4c211","targetDataType":"System.DateTime","targetField":"CancellationDate__c","targetFormula":"WaitForRequest.BookingCaxDate","path":"Booking__c"},{"id":"67a5fa96-6a5a-4cd6-b1f3-a36bd996cc81","targetDataType":"System.DateTime","targetField":"PreApplicationDate__c","targetFormula":"WaitForRequest.PreBookingDate","path":"Booking__c"},{"id":"2bc68712-7e5c-49ec-8685-d2b8fc2eccc4","targetDataType":"System.String","targetField":"CreatedById","targetFormula":"Salesforce_UserLookup2.Id","path":"Booking__c"},{"id":"9b846e79-7cba-4c4f-855c-32dd7f11bf3e","targetDataType":"System.String","targetField":"LastModifiedById","targetFormula":"Salesforce_UserLookup2.Id","path":"Booking__c"},{"id":"6953e544-423c-4c7e-a8bb-e2f142bde09b","targetDataType":"System.String","targetField":"Destination__c","targetFormula":"WaitForRequest.DestinationCode","path":"Booking__c"},{"id":"edf729a9-3f71-44a3-94ca-a76a536a28cb","targetDataType":"System.Double","targetField":"Duration__c","targetFormula":"WaitForRequest.Duration","path":"Booking__c"},{"id":"c4acba1d-261d-427b-90ba-c42240cf851f","targetDataType":"System.String","targetField":"ReferringAmbassador__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"1cd77ddb-df2f-433b-997c-048995fc8c0a","targetDataType":"System.String","targetField":"LastDestination__c","targetFormula":"WaitForRequest.LastDestination","path":"Booking__c"},{"id":"c3ceaef7-f255-456b-b20d-1d656029e445","targetDataType":"System.String","targetField":"School__c","targetFormula":"WaitForRequest.School","path":"Booking__c"},{"id":"7321e1e5-9f29-4b24-82ac-270319a8abc9","targetDataType":"System.String","targetField":"ReferringInstitution__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"c7143f80-99f2-465b-91e2-2a257d5394fe","targetDataType":"System.String","targetField":"Company__c","targetFormula":"WaitForRequest.Company","path":"Booking__c"}]},{"id":"6b7bfccf-bcf2-464b-8c93-d49dc9937111","blockType":"Update","category":"Target","name":"Booking__cUpdate_2","description":"","label":"Update Booking__c","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","prevBlockId":"","containerIndex":1,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Salesforce_Booking__cLookup.Id","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"9398392b-7cfb-4155-98ce-b1bf269891e6"}],"fieldMappings":[{"id":"95843bb3-75d0-40b6-9d22-b0c6d1225f8a","targetDataType":"System.String","targetField":"AccountId__c","targetFormula":"WaitForRequest.SfAccountId","path":"Booking__c"},{"id":"b6eb7eeb-733e-485a-bba6-414cded2d42c","targetDataType":"System.DateTime","targetField":"BookingDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingDate),null,WaitForRequest.BookingDate)","path":"Booking__c"},{"id":"bf71d7fb-940f-4296-b40b-17c167d309cf","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingLineInfo),null,WaitForRequest.BookingLineInfo)","path":"Booking__c"},{"id":"a690d5a1-41b7-46c6-bbef-978b5dbe2b3f","targetDataType":"System.Double","targetField":"BookingStatsYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingStatYear),null,WaitForRequest.BookingStatYear)","path":"Booking__c"},{"id":"e16a8736-8c54-437c-8273-7e39d92497ad","targetDataType":"System.String","targetField":"BrochureSeason__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureSeason),null,WaitForRequest.BrochureSeason)","path":"Booking__c"},{"id":"3b215d69-b369-4cd8-bfa2-90bbb678260c","targetDataType":"System.Double","targetField":"BrochureYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureYear),null,WaitForRequest.BrochureYear)","path":"Booking__c"},{"id":"d1ebc877-c052-4370-8039-8f548bdb02cc","targetDataType":"System.String","targetField":"CurrencyIsoCode","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Currency),null,WaitForRequest.Currency)","path":"Booking__c"},{"id":"ab31c5c3-4465-44f3-89c3-7c766a6f83ff","targetDataType":"System.String","targetField":"MainSalesResponsible__c","targetFormula":"Salesforce_UserLookup.Id","path":"Booking__c"},{"id":"8273eb0e-d5b6-4a38-914d-4f8a36c2d4cd","targetDataType":"System.DateTime","targetField":"MaxEndDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.EndDate),null,WaitForRequest.EndDate)","path":"Booking__c"},{"id":"127c7ab4-e45c-49c4-bde4-ccaf01ce58c6","targetDataType":"System.DateTime","targetField":"MinStartDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.StartDate),null,WaitForRequest.StartDate)","path":"Booking__c"},{"id":"f2af463c-96bd-4977-aa10-a56e71b24226","targetDataType":"System.String","targetField":"Name","targetFormula":"WaitForRequest.BookingNumber","path":"Booking__c"},{"id":"0fabe68e-7498-4e78-9b05-534ddcd817f4","targetDataType":"System.String","targetField":"OpportunityId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Opportunity),null,WaitForRequest.Opportunity)","path":"Booking__c"},{"id":"23e4e126-be23-4599-89f7-94bb76fa0449","targetDataType":"System.Double","targetField":"PosCustomerId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.UniqueCustomerId),null,WaitForRequest.UniqueCustomerId)","path":"Booking__c"},{"id":"bd98a400-d2f3-4390-b488-f12a31a333e3","targetDataType":"System.String","targetField":"Product__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProductCode),null,WaitForRequest.ProductCode)","path":"Booking__c"},{"id":"70fb0e72-c21d-49c0-a121-26425a889138","targetDataType":"System.String","targetField":"Program__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProgramCode),null,WaitForRequest.ProgramCode)","path":"Booking__c"},{"id":"5f95ef14-3da9-4c27-8ded-cefbe5974053","targetDataType":"System.String","targetField":"SalesOffice__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SalesOffice),null,WaitForRequest.SalesOffice)","path":"Booking__c"},{"id":"957a1eeb-b112-472f-a0d2-c176e9b78dfd","targetDataType":"System.String","targetField":"Status__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Status),null,WaitForRequest.Status)","path":"Booking__c"},{"id":"dc3b1240-03f4-485a-acfb-8ae4d62ae01e","targetDataType":"System.String","targetField":"SubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SubStatus),null,WaitForRequest.SubStatus)","path":"Booking__c"},{"id":"a84aabe7-93a4-4fdd-aef2-7ee34814b518","targetDataType":"System.String","targetField":"VisaStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaStatus),null,WaitForRequest.VisaStatus)","path":"Booking__c"},{"id":"e18d400d-71de-4523-81d6-6bd05faea05b","targetDataType":"System.String","targetField":"VisaSubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaSubStatus),null,WaitForRequest.VisaSubStatus)","path":"Booking__c"},{"id":"154dde52-c349-4771-a381-022fff31385a","targetDataType":"System.DateTime","targetField":"CancellationDate__c","targetFormula":"WaitForRequest.BookingCaxDate","path":"Booking__c"},{"id":"de659933-828e-4c30-b692-37f9d43d0724","targetDataType":"System.DateTime","targetField":"PreApplicationDate__c","targetFormula":"WaitForRequest.PreBookingDate","path":"Booking__c"},{"id":"eb4e1707-7d7b-4440-8bf9-af7722cdc6f8","targetDataType":"System.String","targetField":"Destination__c","targetFormula":"WaitForRequest.DestinationCode","path":"Booking__c"},{"id":"ff09c706-dbad-4310-a2a4-a514554a8908","targetDataType":"System.Double","targetField":"Duration__c","targetFormula":"WaitForRequest.Duration","path":"Booking__c"},{"id":"9fbba325-6d13-4d15-b122-bd602eb54301","targetDataType":"System.String","targetField":"LastDestination__c","targetFormula":"WaitForRequest.LastDestination","path":"Booking__c"},{"id":"84afb41f-2355-4f44-b48f-4bf3a97bb7c9","targetDataType":"System.String","targetField":"School__c","targetFormula":"WaitForRequest.School","path":"Booking__c"},{"id":"592d431e-7b8e-4244-a0f2-3169045125c1","targetDataType":"System.String","targetField":"ReferringAmbassador__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"6e6fee58-b844-4492-8370-18313c168521","targetDataType":"System.String","targetField":"Company__c","targetFormula":"WaitForRequest.Company","path":"Booking__c"},{"id":"47992170-2f68-4c55-9bc8-9bdc2f0f5533","targetDataType":"System.String","targetField":"ReferringInstitution__c","targetFormula":"WaitForRequest.ReferringInstitution","path":"Booking__c"}]},{"id":"a7594353-20e0-4191-b49b-7581157413e1","blockType":"IfElse","category":"Control","name":"IfElse","description":"","label":"If New Booking then Update Account with PosCustomer ID","originalBlockLabel":"If","nextBlockId":"","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","containerIndex":0,"firstChildBlockContainer1Id":"c4991b19-4a43-45c3-bfc3-a70dcda46ebd","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"WaitForRequest.IsNewBooking","logicalOperator":0,"rightExpression":"true","id":"8bdf3017-e1d0-4875-a593-8b28ed404303"}]},{"id":"c4991b19-4a43-45c3-bfc3-a70dcda46ebd","blockType":"Update","category":"Target","name":"AccountUpdate","description":"","label":"Update Account","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"a7594353-20e0-4191-b49b-7581157413e1","prevBlockId":"","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Account","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.SfAccountId","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"60712d60-e108-4e22-a6ec-d6a758b6c029"}],"fieldMappings":[{"id":"3d803652-b812-45c7-9aa0-b7fc0510a1ee","targetDataType":"System.String","targetField":"AccountExternalId__c","targetFormula":"WaitForRequest.UniqueCustomerId","path":"Account"}]},{"id":"d1311744-2b6b-4d24-9d26-53e4003fa3a1","blockType":"Update","category":"Target","name":"Booking__cUpdate","description":"","label":"Update Booking__c","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"","containerIndex":1,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.BookingNumber","comparisonOperator":0,"fieldName":"Name","logicalOperator":1,"id":"0b64735e-78c8-478d-a341-1007c7f91e26"}],"fieldMappings":[{"id":"56fe9d6b-6bb1-4b7f-8622-624193e356da","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Message),null,WaitForRequest.Message)","path":"Booking__c"},{"id":"fd251e30-bb11-4fd4-9332-960ce03f5ddb","targetDataType":"System.String","targetField":"Status__c","targetFormula":"\"ERR\"","path":"Booking__c"}]},{"id":"55bfea81-8ac5-48d6-83e4-48b5255470fe","blockType":"BuildReply","category":"Source","name":"BuildReply","description":"","label":"Build Reply","originalBlockLabel":"Build Reply","nextBlockId":"6b13146d-4b03-43e0-b66b-9e3ec40bd7b0","parentBlockId":"","prevBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","entity":"Data","actionName":"Build Reply","ancestorReplyBlockId":"","fieldMappings":[{"id":"7b0ff454-d021-4b57-9ee6-003b8f291567","targetDataType":"String","targetField":"Status","targetFormula":"\"Success\"","path":"Data"}]},{"id":"6b13146d-4b03-43e0-b66b-9e3ec40bd7b0","blockType":"SendReply","category":"Source","name":"SendReply","description":"","label":"Send Reply","originalBlockLabel":"Send Reply","nextBlockId":"","parentBlockId":"","prevBlockId":"55bfea81-8ac5-48d6-83e4-48b5255470fe","entity":"WaitForRequest","fatalExitErrorMessage":"Map stopped with an error.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isFatalExit":false,"actionName":"Send Reply"}],"Revision":41,"RevisionDate":"2018-07-20T09:27:31.75","RevisionComment":null}