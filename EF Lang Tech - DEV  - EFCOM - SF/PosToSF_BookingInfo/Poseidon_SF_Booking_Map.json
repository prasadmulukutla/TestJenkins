{"Description":"","Valid":true,"Id":2321771,"LastModificationDate":"2018-10-09T12:23:11.19","LastRunDate":null,"MapType":"IntegrationServicesAdvancedRequestResponseMap","Name":"Poseidon_SF_Booking_Map","NetChange":false,"NetChangeFieldName":null,"ProcessDefinitionDbId":"a3d2765b-ef2f-49ba-a9fe-e8cdcd7fdeb0","SourceConnectionId":"00000000-0000-0000-0000-000000000000","SourceConnectionName":null,"SourceConnectionAlias":null,"StartingBlockId":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","SourceConnectionType":null,"TargetConnections":[{"ConnectionAlias":"Salesforce","ConnectionId":"010be794-527c-4f44-a1e1-83ab99542b18","ConnectionName":"Salesforce","ConnectionType":"Salesforce"}],"Version":"2.2","Blocks":[{"id":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","blockType":"WaitForRequest","category":"Source","name":"WaitForRequest","description":"","label":"Wait For Request","originalBlockLabel":"Wait For Request","nextBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","parentBlockId":"","prevBlockId":"","x":204,"y":105,"entity":"WaitForRequest","actionName":"Wait For Request","requestData":[{"dataType":13,"name":"SfAccountId","sampleValue":"0016E00000TCey9QAD"},{"dataType":13,"name":"BookingDate","sampleValue":"StringValue"},{"dataType":13,"name":"BookingStatYear","sampleValue":"StringValue"},{"dataType":13,"name":"BrochureSeason","sampleValue":"StringValue"},{"dataType":13,"name":"BrochureYear","sampleValue":"StringValue"},{"dataType":13,"name":"UniqueCustomerId","sampleValue":"StringValue"},{"dataType":13,"name":"Currency","sampleValue":"StringValue"},{"dataType":13,"name":"MainSalesResponsible","sampleValue":"anuj.kapoor"},{"dataType":13,"name":"StartDate","sampleValue":"StringValue"},{"dataType":13,"name":"EndDate","sampleValue":"StringValue"},{"dataType":13,"name":"Currentenddate","sampleValue":"StringValue"},{"dataType":13,"name":"Opportunity","sampleValue":"StringValue"},{"dataType":13,"name":"ProductCode","sampleValue":"StringValue"},{"dataType":13,"name":"ProgramCode","sampleValue":"StringValue"},{"dataType":13,"name":"SalesOffice","sampleValue":"StringValue"},{"dataType":13,"name":"Status","sampleValue":"BKN"},{"dataType":13,"name":"SubStatus","sampleValue":"StringValue"},{"dataType":13,"name":"VisaStatus","sampleValue":"StringValue"},{"dataType":13,"name":"VisaSubStatus","sampleValue":"StringValue"},{"dataType":13,"name":"BookingLineInfo","sampleValue":"StringValue"},{"dataType":0,"name":"IsNewBooking","sampleValue":"True"},{"dataType":13,"name":"BookingNumber","sampleValue":"NOO918020"},{"dataType":0,"name":"IsSuccess","sampleValue":"True"},{"dataType":13,"name":"Message","sampleValue":"StringValue"},{"dataType":13,"name":"PreBookingDate","sampleValue":"StringValue"},{"dataType":13,"name":"BookingCaxDate","sampleValue":"StringValue"},{"dataType":13,"name":"Duration","sampleValue":"StringValue"},{"dataType":13,"name":"DestinationCode","sampleValue":"StringValue"},{"dataType":13,"name":"ReferringAmbassador","sampleValue":"StringValue"},{"dataType":13,"name":"BookingEnteredBy","sampleValue":"StringValue"},{"dataType":13,"name":"LastDestination","sampleValue":"StringValue"},{"dataType":13,"name":"School","sampleValue":"StringValue"},{"dataType":13,"name":"ReferringInstitution","sampleValue":"StringValue"},{"dataType":13,"name":"Company","sampleValue":"StringValue"}]},{"id":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","blockType":"IfElse","category":"Control","name":"IfElse2","description":"","label":"If Booking successfully created","originalBlockLabel":"If","nextBlockId":"55bfea81-8ac5-48d6-83e4-48b5255470fe","parentBlockId":"","prevBlockId":"2185fe8d-5f0c-4c54-a7fe-7069cc162eeb","firstChildBlockContainer1Id":"c23ddfa7-8e2a-478d-8820-03b1111695db","firstChildBlockContainer2Id":"d1311744-2b6b-4d24-9d26-53e4003fa3a1","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"WaitForRequest.IsSuccess","logicalOperator":0,"rightExpression":"True","id":"206ae472-7a00-4c1d-83ff-bb41ad20e4be"}]},{"id":"c23ddfa7-8e2a-478d-8820-03b1111695db","blockType":"Lookup","category":"Target","name":"UserLookup","description":"","label":"Lookup User for MainSalesResponsible","originalBlockLabel":"Lookup","nextBlockId":"7ed476d9-e1e8-45ae-a071-698eee305969","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"","containerIndex":0,"entity":"User","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"CONCATENATE(WaitForRequest.MainSalesResponsible,\"@ef.com.lang.dev\")","comparisonOperator":0,"fieldName":"Username","logicalOperator":0,"id":"4790b706-144a-48df-9b51-2d29f931d7ff"}],"fieldsToLookup":["Id"]},{"id":"7ed476d9-e1e8-45ae-a071-698eee305969","blockType":"Lookup","category":"Target","name":"UserLookup2","description":"","label":"Lookup User for booking entered by","originalBlockLabel":"Lookup","nextBlockId":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"c23ddfa7-8e2a-478d-8820-03b1111695db","containerIndex":0,"entity":"User","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"CONCATENATE(WaitForRequest.BookingEnteredBy,\"@ef.com.lang.dev\")","comparisonOperator":0,"fieldName":"Username","logicalOperator":0,"id":"f0dc5254-531e-424b-849d-ca3552eec8ce"}],"fieldsToLookup":["Id"]},{"id":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","blockType":"Lookup","category":"Target","name":"Booking__cLookup","description":"","label":"Lookup Booking__c","originalBlockLabel":"Lookup","nextBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"7ed476d9-e1e8-45ae-a071-698eee305969","containerIndex":0,"entity":"Booking__c","cacheResults":false,"actionName":"Query","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnMoreThanOneMessage":false,"onMoreThanOneMessage":"Operation returned more than 1 result.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnOneOrMoreMessage":false,"onOneOrMoreMessage":"Operation returned 1 or more results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnNoMatchMessage":false,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.BookingNumber","comparisonOperator":0,"fieldName":"Name","logicalOperator":0,"id":"5574f5da-f1ae-4c44-8a25-76f3c9cafaf9"}],"fieldsToLookup":["Id"]},{"id":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","blockType":"IfElse","category":"Control","name":"IfElse3","description":"","label":"If records not found","originalBlockLabel":"If","nextBlockId":"a7594353-20e0-4191-b49b-7581157413e1","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"29076c8b-b0bf-4a2f-bc42-25f1f25469ea","containerIndex":0,"firstChildBlockContainer1Id":"41be4a00-6dab-46c6-8314-09cf8ce84ce1","firstChildBlockContainer2Id":"6b7bfccf-bcf2-464b-8c93-d49dc9937111","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"Salesforce_Booking__cLookup.Result.Success","logicalOperator":0,"rightExpression":"True","id":"2e2cd948-1851-43b2-ac1e-9b912b0ddc39"},{"conditionOperator":0,"leftExpression":"Salesforce_Booking__cLookup.Result.RecordsMatched","logicalOperator":0,"rightExpression":"0","id":"d8b88362-096c-4946-9799-5d5758c2003e"}]},{"id":"41be4a00-6dab-46c6-8314-09cf8ce84ce1","blockType":"Insert","category":"Target","name":"Booking__cCreate","description":"","label":"Create Booking__c","originalBlockLabel":"Create","nextBlockId":"","parentBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","prevBlockId":"","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Create","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","fieldMappings":[{"id":"e00a059c-a051-4654-a102-8c70dec54a57","targetDataType":"System.String","targetField":"AccountId__c","targetFormula":"WaitForRequest.SfAccountId","path":"Booking__c"},{"id":"08209908-5fac-4642-b449-36dcba2eced5","targetDataType":"System.DateTime","targetField":"BookingDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingDate),null,WaitForRequest.BookingDate)","path":"Booking__c"},{"id":"019c30fc-915d-4f1d-a343-bcd8fa1b8907","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingLineInfo),null,WaitForRequest.BookingLineInfo)","path":"Booking__c"},{"id":"a2d3b904-c604-4e2d-9c90-ab212c8ef810","targetDataType":"System.Double","targetField":"BookingStatsYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingStatYear),null,WaitForRequest.BookingStatYear)","path":"Booking__c"},{"id":"64176cae-9bb8-42da-b4c9-e1540c338d02","targetDataType":"System.String","targetField":"BrochureSeason__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureSeason),null,WaitForRequest.BrochureSeason)","path":"Booking__c"},{"id":"a631f03c-9952-4813-8881-5fea476f688b","targetDataType":"System.Double","targetField":"BrochureYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureYear),null,WaitForRequest.BrochureYear)","path":"Booking__c"},{"id":"b38e5bc7-a128-4898-869b-662f557bbee8","targetDataType":"System.String","targetField":"CurrencyIsoCode","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Currency),null,WaitForRequest.Currency)","path":"Booking__c"},{"id":"d2195bfc-d056-4ba1-a3d3-1051a92b6363","targetDataType":"System.String","targetField":"MainSalesResponsible__c","targetFormula":"Salesforce_UserLookup.Id","path":"Booking__c"},{"id":"7ff2d09e-0f91-40a8-9bc8-4aa7bf000783","targetDataType":"System.DateTime","targetField":"MaxEndDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.EndDate),null,WaitForRequest.EndDate)","path":"Booking__c"},{"id":"514fb924-ce6b-4955-b37b-1e094ba20a9f","targetDataType":"System.DateTime","targetField":"MinStartDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.StartDate),null,WaitForRequest.StartDate)","path":"Booking__c"},{"id":"2e9e706d-f393-422e-a961-420d4fb071f3","targetDataType":"System.String","targetField":"Name","targetFormula":"WaitForRequest.BookingNumber","path":"Booking__c"},{"id":"22fa1079-ac6c-4b59-bad1-be809779f329","targetDataType":"System.String","targetField":"OpportunityId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Opportunity),null,WaitForRequest.Opportunity)","path":"Booking__c"},{"id":"54c305c4-0d2b-44be-a9b0-745a1d8a491b","targetDataType":"System.Double","targetField":"PosCustomerId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.UniqueCustomerId),null,WaitForRequest.UniqueCustomerId)","path":"Booking__c"},{"id":"ac0da820-6da3-40f4-9c54-80f179929854","targetDataType":"System.String","targetField":"Product__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProductCode),null,WaitForRequest.ProductCode)","path":"Booking__c"},{"id":"c84b0be7-7215-4d3d-ab07-386d1759b9e8","targetDataType":"System.String","targetField":"Program__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProgramCode),null,WaitForRequest.ProgramCode)","path":"Booking__c"},{"id":"e54c79ff-11c6-437c-84c2-b20a803c05c3","targetDataType":"System.String","targetField":"SalesOffice__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SalesOffice),null,WaitForRequest.SalesOffice)","path":"Booking__c"},{"id":"2ead2027-255e-4118-bf96-f75656862246","targetDataType":"System.String","targetField":"Status__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Status),null,WaitForRequest.Status)","path":"Booking__c"},{"id":"73e3172a-c619-47ae-b068-583764f728d6","targetDataType":"System.String","targetField":"SubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SubStatus),null,WaitForRequest.SubStatus)","path":"Booking__c"},{"id":"02f38edd-0360-4aae-85cb-2bf6b4b87512","targetDataType":"System.String","targetField":"VisaStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaStatus),null,WaitForRequest.VisaStatus)","path":"Booking__c"},{"id":"d878cedd-5e6f-4fef-9545-f6bf814448e0","targetDataType":"System.String","targetField":"VisaSubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaSubStatus),null,WaitForRequest.VisaSubStatus)","path":"Booking__c"},{"id":"6c5f3251-e03b-44e4-8ff5-1e55e8cb7fe8","targetDataType":"System.DateTime","targetField":"CancellationDate__c","targetFormula":"WaitForRequest.BookingCaxDate","path":"Booking__c"},{"id":"2d317c48-cc12-4a80-8726-414cda73711c","targetDataType":"System.DateTime","targetField":"PreApplicationDate__c","targetFormula":"WaitForRequest.PreBookingDate","path":"Booking__c"},{"id":"28ebe16d-d4fd-44ee-827b-4c187ce9cdf2","targetDataType":"System.String","targetField":"CreatedById","targetFormula":"Salesforce_UserLookup2.Id","path":"Booking__c"},{"id":"72c53c99-42bc-4872-8fa0-1672c2ed1839","targetDataType":"System.String","targetField":"LastModifiedById","targetFormula":"Salesforce_UserLookup2.Id","path":"Booking__c"},{"id":"4aed523d-1b80-4fa2-b4bf-2bbbd41feeb4","targetDataType":"System.String","targetField":"Destination__c","targetFormula":"WaitForRequest.DestinationCode","path":"Booking__c"},{"id":"844775b5-4adc-4640-8d91-9183b06fa927","targetDataType":"System.Double","targetField":"Duration__c","targetFormula":"WaitForRequest.Duration","path":"Booking__c"},{"id":"ff93301d-ef5d-4266-9f5b-14256f2aa281","targetDataType":"System.String","targetField":"ReferringAmbassador__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"5f058626-d9a4-476d-966d-61aab3284445","targetDataType":"System.String","targetField":"LastDestination__c","targetFormula":"WaitForRequest.LastDestination","path":"Booking__c"},{"id":"e3172ddd-6fcc-4a25-b4fa-4fafdf16f8d5","targetDataType":"System.String","targetField":"School__c","targetFormula":"WaitForRequest.School","path":"Booking__c"},{"id":"26718f32-e2a4-40fc-8933-5aa12268c873","targetDataType":"System.String","targetField":"ReferringInstitution__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"24f7da16-4a7a-43ad-8332-73ed8b78e7db","targetDataType":"System.String","targetField":"Company__c","targetFormula":"WaitForRequest.Company","path":"Booking__c"}]},{"id":"6b7bfccf-bcf2-464b-8c93-d49dc9937111","blockType":"Update","category":"Target","name":"Booking__cUpdate_2","description":"","label":"Update Booking__c","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","prevBlockId":"","containerIndex":1,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"Salesforce_Booking__cLookup.Id","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"55b19835-b0ba-40be-9602-2838b5237aff"}],"fieldMappings":[{"id":"015d3478-8b04-4de1-80bd-eddecc925da8","targetDataType":"System.String","targetField":"AccountId__c","targetFormula":"WaitForRequest.SfAccountId","path":"Booking__c"},{"id":"780f6ffc-8ce7-431e-b03b-b02eec0686c0","targetDataType":"System.DateTime","targetField":"BookingDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingDate),null,WaitForRequest.BookingDate)","path":"Booking__c"},{"id":"5a22c251-0161-4d6d-93f5-330db25cc8a3","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingLineInfo),null,WaitForRequest.BookingLineInfo)","path":"Booking__c"},{"id":"15975399-a0e3-4207-9493-d6d690c9d44b","targetDataType":"System.Double","targetField":"BookingStatsYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BookingStatYear),null,WaitForRequest.BookingStatYear)","path":"Booking__c"},{"id":"302664b2-f858-4f5d-92b2-c62d66f279f7","targetDataType":"System.String","targetField":"BrochureSeason__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureSeason),null,WaitForRequest.BrochureSeason)","path":"Booking__c"},{"id":"77631a0d-b285-4307-ba90-95699cce5057","targetDataType":"System.Double","targetField":"BrochureYear__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.BrochureYear),null,WaitForRequest.BrochureYear)","path":"Booking__c"},{"id":"70bfd905-cad1-40e4-a758-2544a12e4baa","targetDataType":"System.String","targetField":"CurrencyIsoCode","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Currency),null,WaitForRequest.Currency)","path":"Booking__c"},{"id":"ea398a13-f128-441a-94d7-55f0b789e170","targetDataType":"System.String","targetField":"MainSalesResponsible__c","targetFormula":"Salesforce_UserLookup.Id","path":"Booking__c"},{"id":"10322c81-4a83-42c8-8fe1-5708d1282513","targetDataType":"System.DateTime","targetField":"MaxEndDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.EndDate),null,WaitForRequest.EndDate)","path":"Booking__c"},{"id":"d4900ae8-84f2-410d-ae5e-c4aa36678b16","targetDataType":"System.DateTime","targetField":"MinStartDate__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.StartDate),null,WaitForRequest.StartDate)","path":"Booking__c"},{"id":"d92f767b-b2ef-43ee-9df3-c9674843110a","targetDataType":"System.String","targetField":"Name","targetFormula":"WaitForRequest.BookingNumber","path":"Booking__c"},{"id":"fef9a34a-12dc-4481-800e-99065f9c5327","targetDataType":"System.String","targetField":"OpportunityId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Opportunity),null,WaitForRequest.Opportunity)","path":"Booking__c"},{"id":"fbd2eb92-07b4-4c00-885d-d4e0915d2de6","targetDataType":"System.Double","targetField":"PosCustomerId__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.UniqueCustomerId),null,WaitForRequest.UniqueCustomerId)","path":"Booking__c"},{"id":"056b4ec6-45e4-40b3-915c-37ccd0dbe891","targetDataType":"System.String","targetField":"Product__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProductCode),null,WaitForRequest.ProductCode)","path":"Booking__c"},{"id":"5ae6ad6e-3cfa-4671-86ae-6dd2284dbf41","targetDataType":"System.String","targetField":"Program__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.ProgramCode),null,WaitForRequest.ProgramCode)","path":"Booking__c"},{"id":"38d07eef-723d-451a-a74e-b75cf120b93d","targetDataType":"System.String","targetField":"SalesOffice__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SalesOffice),null,WaitForRequest.SalesOffice)","path":"Booking__c"},{"id":"fc9af00d-bdcf-4423-be38-703fd3812174","targetDataType":"System.String","targetField":"Status__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Status),null,WaitForRequest.Status)","path":"Booking__c"},{"id":"4349040c-d752-43f7-9dd5-f38f0ec630ef","targetDataType":"System.String","targetField":"SubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.SubStatus),null,WaitForRequest.SubStatus)","path":"Booking__c"},{"id":"e719c8a0-b040-4937-9ee7-c8beed21e161","targetDataType":"System.String","targetField":"VisaStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaStatus),null,WaitForRequest.VisaStatus)","path":"Booking__c"},{"id":"61cfa911-1123-4bd4-b1c7-edf494a22a64","targetDataType":"System.String","targetField":"VisaSubStatus__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.VisaSubStatus),null,WaitForRequest.VisaSubStatus)","path":"Booking__c"},{"id":"1234606c-0a06-4306-873f-d7d93647a0fe","targetDataType":"System.DateTime","targetField":"CancellationDate__c","targetFormula":"WaitForRequest.BookingCaxDate","path":"Booking__c"},{"id":"7a78f08a-377f-46c1-9ce1-2f90be3d2afe","targetDataType":"System.DateTime","targetField":"PreApplicationDate__c","targetFormula":"WaitForRequest.PreBookingDate","path":"Booking__c"},{"id":"5b390500-4374-4bbd-8ed6-f35b7980573b","targetDataType":"System.String","targetField":"Destination__c","targetFormula":"WaitForRequest.DestinationCode","path":"Booking__c"},{"id":"6e2d5d10-1df2-4d20-a5e2-86a4ba67885b","targetDataType":"System.Double","targetField":"Duration__c","targetFormula":"WaitForRequest.Duration","path":"Booking__c"},{"id":"60652d3e-b5cc-42c3-87f4-f45267c59020","targetDataType":"System.String","targetField":"LastDestination__c","targetFormula":"WaitForRequest.LastDestination","path":"Booking__c"},{"id":"af7f280e-a3d5-452f-98d5-5d8072362863","targetDataType":"System.String","targetField":"School__c","targetFormula":"WaitForRequest.School","path":"Booking__c"},{"id":"294c9863-e321-4283-9e61-c7a374845587","targetDataType":"System.String","targetField":"ReferringAmbassador__c","targetFormula":"WaitForRequest.ReferringAmbassador","path":"Booking__c"},{"id":"59959879-d9d0-475b-a86c-37cb07144b13","targetDataType":"System.String","targetField":"Company__c","targetFormula":"WaitForRequest.Company","path":"Booking__c"},{"id":"e6cb8204-dac3-4f6c-bb1f-97cd755d506f","targetDataType":"System.String","targetField":"ReferringInstitution__c","targetFormula":"WaitForRequest.ReferringInstitution","path":"Booking__c"}]},{"id":"a7594353-20e0-4191-b49b-7581157413e1","blockType":"IfElse","category":"Control","name":"IfElse","description":"","label":"If New Booking then Update Account with PosCustomer ID","originalBlockLabel":"If","nextBlockId":"","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"f66cb5d1-ae83-4d6e-baa8-c1dd494ddbe0","containerIndex":0,"firstChildBlockContainer1Id":"c4991b19-4a43-45c3-bfc3-a70dcda46ebd","firstChildBlockContainer2Id":"","elseLabel":"else","expressionItems":[{"conditionOperator":0,"leftExpression":"WaitForRequest.IsNewBooking","logicalOperator":0,"rightExpression":"true","id":"479ee1b9-1083-46dc-84a0-723bd19fd21b"}]},{"id":"c4991b19-4a43-45c3-bfc3-a70dcda46ebd","blockType":"Update","category":"Target","name":"AccountUpdate","description":"","label":"Update Account","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"a7594353-20e0-4191-b49b-7581157413e1","prevBlockId":"","containerIndex":0,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Account","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.SfAccountId","comparisonOperator":0,"fieldName":"Id","logicalOperator":0,"id":"8b9782f3-fb13-44d5-b388-9ab0e1584bed"}],"fieldMappings":[{"id":"6ade4a14-c7cf-4ea4-b7a2-b6fa715ab98d","targetDataType":"System.String","targetField":"AccountExternalId__c","targetFormula":"WaitForRequest.UniqueCustomerId","path":"Account"}]},{"id":"d1311744-2b6b-4d24-9d26-53e4003fa3a1","blockType":"Update","category":"Target","name":"Booking__cUpdate","description":"","label":"Update Booking__c","originalBlockLabel":"Update","nextBlockId":"","parentBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","prevBlockId":"","containerIndex":1,"bulkCountPerOperation":2000,"useBulk":false,"entity":"Booking__c","actionName":"Update","connectionId":"010be794-527c-4f44-a1e1-83ab99542b18","isOnNoMatchMessage":true,"onNoMatchMessage":"Operation returned no results.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isOnErrorMessage":true,"onErrorMessage":"Operation failed.  Label: [BLOCK LABEL], Name: [BLOCK NAME], Message: [ORIGINAL MESSAGE]","filterItems":[{"compareValue":"WaitForRequest.BookingNumber","comparisonOperator":0,"fieldName":"Name","logicalOperator":1,"id":"c2bf7c55-6f0c-43fc-96c0-b72d1ffbaa4b"}],"fieldMappings":[{"id":"86b04e1c-69b2-4226-9f80-18902034d3d5","targetDataType":"System.String","targetField":"BookingLineInfo__c","targetFormula":"IF(ISNULLOREMPTY(WaitForRequest.Message),null,WaitForRequest.Message)","path":"Booking__c"},{"id":"753c0b36-7fb4-40f0-a894-c6e804e5681d","targetDataType":"System.String","targetField":"Status__c","targetFormula":"\"ERR\"","path":"Booking__c"}]},{"id":"55bfea81-8ac5-48d6-83e4-48b5255470fe","blockType":"BuildReply","category":"Source","name":"BuildReply","description":"","label":"Build Reply","originalBlockLabel":"Build Reply","nextBlockId":"6b13146d-4b03-43e0-b66b-9e3ec40bd7b0","parentBlockId":"","prevBlockId":"d4cd4457-5ee1-4bd2-aa31-922bacba9fad","entity":"Data","actionName":"Build Reply","ancestorReplyBlockId":"","fieldMappings":[{"id":"15f66bd2-7f1d-4ea9-bca6-4f603d6aee4a","targetDataType":"String","targetField":"Status","targetFormula":"\"Success\"","path":"Data"}]},{"id":"6b13146d-4b03-43e0-b66b-9e3ec40bd7b0","blockType":"SendReply","category":"Source","name":"SendReply","description":"","label":"Send Reply","originalBlockLabel":"Send Reply","nextBlockId":"","parentBlockId":"","prevBlockId":"55bfea81-8ac5-48d6-83e4-48b5255470fe","entity":"WaitForRequest","fatalExitErrorMessage":"Map stopped with an error.  Label: [BLOCK LABEL], Name: [BLOCK NAME]","isFatalExit":false,"actionName":"Send Reply"}],"Revision":41,"RevisionDate":"2018-07-20T09:27:31.75","RevisionComment":null}